(this["webpackJsonpchores-calculator"]=this["webpackJsonpchores-calculator"]||[]).push([[0],{15:function(e,t,n){e.exports=n(30)},20:function(e,t,n){},21:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},22:function(e,t,n){},23:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(11),o=n.n(r),c=(n(20),n(21),n(22),n(6)),i=n(5),l=n(14);n(23);var u=function(e){var t=[e.extraClassName,e.isCentered?"centered":""],n=e.backgroundText?s.a.createElement("div",{class:"background-text"},e.backgroundText):s.a.createElement(s.a.Fragment,null),a=s.a.createElement(s.a.Fragment,null,s.a.createElement(l.a.Control,{type:"text",placeholder:e.placeholder,value:e.value,onChange:function(t){e.onChange(t.target.value)},className:t}),n);return!0===e.isHeader?s.a.createElement("th",null,a):s.a.createElement("td",null,a)},m=n(13),g=(n(28),n(8)),v={assignTasks:function(e){var t=Object(g.a)({},e,{costs:v.normalizeCosts(e.costs),bestTaskAssignment:null,bestTaskAssignmentScore:null});v.assignTasksRecursive(t,{currentTaskAssignment:{},currentTaskAssignmentScore:0},0);var n=[];console.log("Finished optimizing",t.bestTaskAssignment);for(var a=0;a<t.participants.length;a++)n[a]=v.computeScoreForParticipant(t,t.bestTaskAssignment,a),console.log("Participant",a,n[a]);return{assignment:t.bestTaskAssignment,scores:n}},normalizeCosts:function(e){var t=[];console.log("normalizing",e);for(var n=0;n<e.length;n++){for(var a=0,s=0;s<e[n].length;s++)a+=v.getCostAsFloat(e,n,s,0);t[n]=[];for(s=0;s<e[n].length;s++)t[n][s]=0===a?0:1*v.getCostAsFloat(e,n,s,0)/a}return t},getCost:function(e,t,n,a){if(!(t in e))return a;var s=e[t];return n in s?s[n]:a},getCostAsFloat:function(e,t,n,a){var s=parseFloat(v.getCost(e,t,n,a));return isNaN(s)?(console.log("!!! Invalid cost",s),a):s},computeScoreForParticipant:function(e,t,n){var a=0;for(var s in t)t[s]===n&&(a+=v.getCostAsFloat(e.costs,n,s,0));return a},assignTasksRecursive:function(e,t,n){if(n>=e.tasks.length)return console.log("Assessment complete:",t.currentTaskAssignment,t.currentTaskAssignmentScore),void((null===e.bestTaskAssignmentScore||t.currentTaskAssignmentScore<e.bestTaskAssignmentScore)&&(console.log("Found better!",e.bestTaskAssignmentScore),e.bestTaskAssignmentScore=t.currentTaskAssignmentScore,e.bestTaskAssignment=t.currentTaskAssignment));for(var a=0;a<e.participants.length;a++){console.log("participantIdx",n,a,t.currentTaskAssignment);var s=Object(g.a)({},t.currentTaskAssignment);s[n]=a;var r=v.computeScoreForParticipant(e,s,a);if(null!==e.bestTaskAssignment&&r>=e.bestTaskAssignmentScore)console.log("Won't continue",r,e.bestTaskAssignmentScore);else{var o={currentTaskAssignment:s,currentTaskAssignmentScore:Math.max(r,t.currentTaskAssignmentScore)};v.assignTasksRecursive(e,o,n+1)}}}},f=v;var d=function(e){var t=Object(a.useState)([{name:"Benjamin"},{name:"Sepideh"}]),n=Object(i.a)(t,2),r=n[0],o=n[1],l=Object(a.useState)([{name:"Vaccum"},{name:"Dishes"},{name:"Keep kitchen clean"},{name:"Laundry"},{name:"Washing bathroom"},{name:"Take out trash"}]),g=Object(i.a)(l,2),v=g[0],d=(g[1],Object(a.useState)([[100,100,80,20,70,10],[5,3,6,2,7,2]])),p=Object(i.a)(d,2),k=p[0],b=p[1],h=Object(a.useState)([]),T=Object(i.a)(h,2),A=T[0],E=T[1],S=Object(a.useState)({}),C=Object(i.a)(S,2),j=C[0],O=C[1];Object(a.useEffect)((function(){x()}),[]);var F=function(e,t){return function(n){var a=Object(c.a)(k);e in a||(a[e]=[]),a[e][t]=n,b(a),x()}},x=function(){var e=f.assignTasks({participants:r,tasks:v,costs:k});console.log(e),O(e.assignment),E(e.scores)},w=function(e,t){return j&&j[t]===e},N=r.map((function(e,t){return s.a.createElement(u,{value:e.name,onChange:(n=t,function(e){var t=Object(c.a)(r);t[n].name=e,o(t)}),isHeader:"true",isCentered:"true"});var n})),y=function(e,t){return k[e]&&k[e][t]?parseInt(100*k[e][t]/k[e].reduce((function(e,t){return e+t}),0))+"%":"q"},I=v.map((function(e,t){return s.a.createElement("tr",null,s.a.createElement(u,{value:e.name,onChange:(n=t,function(e){var t=Object(c.a)(v);t[n].name=e,o(t)})}),r.map((function(e,n){return s.a.createElement(u,{value:f.getCost(k,n,t,""),isCentered:"true",onChange:F(n,t),placeholder:"0",extraClassName:w(n,t)?"assigned":"",backgroundText:y(n,t)})})));var n})),z=A.map((function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement(u,{value:parseInt(100*e)+"%",placeholder:"-",isCentered:"true"}))}));return s.a.createElement("div",null,s.a.createElement(m.a,{bordered:!0,responsive:"lg"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null),N)),s.a.createElement("tbody",null,I,s.a.createElement("tr",null,s.a.createElement(u,{value:"(Scores)",placeholder:"-"}),z))))};n(29);var p=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(d,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.4766e227.chunk.js.map