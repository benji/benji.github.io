{"version":3,"sources":["services/FlashcardStoreDAO.js","services/ReactGlobalState.js","services/FlashcardStore.js","services/FlashcardService.js","LanguagesService.js","SelectLanguage.js","Utils.js","Configure.js","FlashcardListItem.js","ListFlashcards.js","PageTitle.js","Flashcard.js","OneStoreLogin.js","Header.js","Error.js","NotFound.js","PlayFlashcard.js","App.js","serviceWorker.js","index.js"],"names":["self","onAuthenticationChanged","onestore","_OneStore","Client","jsonify","authMethod","isAuthenticated","c","authenticationCallbacks","indexOf","push","getConfigurationItem","_uuid","_getP","catch","_catchHttpError","e","Promise","reject","Error","saveConfigurationItem","configuration","_updateP","getConfiguration","saveConfiguration","getFlashcardsOrdering","saveFlashcardsOrdering","listFlashcards","_listP","limit","maxRequests","addFlashcard","flashcard","_validateKeys","_createP","deleteFlashcard","resolve","_validateNames","userdata","name","loadAllFlashcardEntries","then","r","entries","data","console","log","length","promises","i","id","deleteFlashcardEntry","all","_removeP","addFlashcardEntry","flashcardName","entry","_getFlashcardsEntriesStore","deleteAll","flashcards","JSON","stringify","util","promisify","get","bind","list","create","update","remove","status","values","_validateValue","obj","k","value","onlyCheckNotEmpty","desc","err","test","error","reactSetterCallback","dataKey","getReactSetterCallback","useState","arguments","createNewObjectFn","set","FLASHCARDS","DRAGGED_FLASHCARD_ID","APP_CONFIG","IS_READY","ERROR","FROMTO","FLASHCARD_ENTRIES","FLASHCARDS_ARRAY","ReactGlobalState","store","getFlashcardEntries","flash_store","flashcardEntries","newFlashcardEntries","getFlashcardsArray","flashcardsArray","sort","a","b","getCachedFlashcardsArray","arr","filter","f","idx","AllLanguages","require","_getById","from","to","LanguagesService","AllLanguagesKeys","Object","keys","SelectLanguage","props","Form","Group","Control","as","onChange","setValue","target","title","map","key","array","temporaryValue","randomIndex","currentIndex","Math","floor","random","path","history","goto","saveButtonStyles","float","formStyles","marginTop","Configure","fromLanguage","setFromLanguage","toLanguage","setToLanguage","className","onSubmit","preventDefault","alert","Utils","handleError","style","Label","Button","variant","type","FLASHCARD_TYPE","withRouter","ref","useRef","useDrop","accept","drop","item","monitor","onDropFlashcard","hover","current","dragIndex","index","hoverIndex","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","hoverClientY","getClientOffset","y","moveFlashcard","useDrag","flashcardId","collect","isDragging","drag","onMouseDownTimeout","onMouseDown","setTimeout","onMouseUp","clearInterval","classNames","onClick","gotoFn","onTouchStart","onTouchEnd","getFlashcardEntriesCount","icon","faPlay","size","orderConfig","loading","setLoading","newFlashcardName","setNewFlashcardName","showDeleteAllConfirm","setShowDeleteAllConfirm","saveOrdering","closeDeleteAllConfirm","useEffect","FlashcardService","_flashcards","_orderConfig","getOrder","fid","findIndex","x","orderingChanged","useCallback","dragFlashcard","$splice","HTML5toTouch","backends","backend","HTML5Backend","TouchBackend","preview","transition","TouchTransition","options","delayTouchStart","Fragment","color","css","margin","DndProvider","MultiBackend","findFlashCardByName","FormControl","placeholder","aria-label","aria-describedby","backLink","rotation","marginRight","match","params","flashcard_name","setflashcardEntries","newEntryFrom","setNewEntryFrom","newEntryTo","setNewEntryTo","newEntryPronounciation","setNewEntryPronounciation","startQuizz","fromto","loadFlashcardEntries","faArrowRight","p","newEntries","faTrashAlt","removeFlashcard","OneStoreLogin","login","startAuthenticationProcedure","class","src","href","logout","deauthenticate","styles","padding","position","right","linkStyle","marginLeft","faSlidersH","faSignOutAlt","String","errorMessage","textAlign","question","setQuestion","answer","setAnswer","pronouciation","setPronouciation","showAnswer","setShowAnswer","loadQuizz","shuffleArray","renderCurrentEntry","answerStyle","opacity","App","authenticated","setAuthenticated","load","auth","basename","process","exact","component","ListFlashcards","Flashcard","PlayFlashcard","NotFound","Boolean","window","location","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"85ZAMMA,EAAO,CAEbA,KAAY,SAASC,GACnBD,EAAKE,SAAW,IAAIC,IAAUC,OAAO,CACnCC,SAAS,EAETC,WAAY,aACZL,wBAAyBA,KAI7BD,gBAAuB,WACrB,OAAOA,EAAKE,UAAYF,EAAKE,SAASK,mBAGxCP,+BAAsC,SAASQ,GACzCR,EAAKS,wBAAwBC,QAAQF,GAAK,GAC5CR,EAAKS,wBAAwBE,KAAKH,KAOtCR,EAAKY,qBAAuB,SAAAC,GAAK,OAAI,WACnC,IACE,OAAOb,EACJc,OADId,CA7BiB,gBA8BQa,GAC7BE,MAAMf,EAAKgB,iBACd,MAAOC,GACP,OAAOC,QAAQC,OAAO,IAAIC,MAAMH,OAIpCjB,EAAKqB,sBAAwB,SAAAR,GAAK,OAAI,SAAAS,GACpC,IACE,OAAOtB,EAAKuB,UAALvB,CAvCiB,gBAuCoBa,EAAOS,GACnD,MAAOL,GACP,OAAOC,QAAQC,OAAO,IAAIC,MAAMH,OAIpCjB,EAAKwB,iBAAmBxB,EAAKY,qBAtBO,wCAuBpCZ,EAAKyB,kBAAoBzB,EAAKqB,sBAvBM,wCA2BpCrB,EAAK0B,sBAAwB1B,EAAKY,qBAzBhC,wCA4BFZ,EAAK2B,uBAAyB3B,EAAKqB,sBA5BjC,wCAgCFrB,EAAK4B,eAAiB,WACpB,IAEE,OAAO5B,EAAK6B,QAAL7B,CA3Dc,aA0DV,CAAE8B,MAAO,IAAMC,YAAa,KAEvC,MAAOd,GACP,OAAOC,QAAQC,OAAO,IAAIC,MAAMH,MAIpCjB,EAAKgC,aAAe,SAASC,GAC3B,IAEE,OADAjC,EAAKkC,cAAcD,GACZjC,EAAKmC,UAALnC,CApEc,aAoEoBiC,GACzC,MAAOhB,GACP,OAAOC,QAAQC,OAAO,IAAIC,MAAMH,MAIpCjB,EAAKoC,gBAAkB,SAASH,GAC9B,OAAO,IAAIf,SAAQ,SAASmB,EAASlB,GACnC,IACEnB,EAAKsC,eAAe,CAACL,EAAUM,SAASC,OAExCxC,EAAKyC,wBAAwBR,EAAUM,SAASC,MAAME,MAAK,SAAAC,GACzD,IAAMC,EAAUD,EAAEE,KAClBC,QAAQC,IACN,OACEH,EAAQI,OACR,0BACAf,EAAUM,SAASC,MAGvB,IADA,IAAIS,EAAW,GACNC,EAAI,EAAGA,EAAIN,EAAQI,OAAQE,IAAK,CACvC,IAAMjC,EAAI2B,EAAQM,GAClBJ,QAAQC,IACN,sBACEd,EAAUM,SAASC,KACnB,UACAvB,EAAEkC,GACF,iBAEJF,EAAStC,KACPX,EAAKoD,qBAAqBnB,EAAUM,SAASC,KAAMvB,EAAEkC,KAGzDjC,QAAQmC,IAAIJ,GACTP,MAAK,WACJI,QAAQC,IACN,aAAed,EAAUM,SAASC,KAAO,2BAE3CxC,EACGsD,UADHtD,CA1Ga,aA2GmBiC,EAAUkB,IACvCT,KAAKL,GACLtB,MAAMI,MAEVJ,MAAMI,MAEX,MAAOF,GACPE,EAAOF,QAKbjB,EAAKuD,kBAAoB,SAASC,EAAeC,GAC/C,IAEE,OADAzD,EAAKsC,eAAe,CAACkB,IACdxD,EAAKmC,UAALnC,CACLA,EAAK0D,2BAA2BF,GAChCC,GAEF,MAAOxC,GACP,OAAOC,QAAQC,OAAO,IAAIC,MAAMH,MAIpCjB,EAAKoD,qBAAuB,SAASI,EAAeL,GAClD,IAGE,OAFAnD,EAAKsC,eAAe,CAACkB,EAAeL,IAE7BnD,EAAKsD,UAALtD,CAAgBA,EAAK0D,2BAA2BF,GAAgBL,GACvE,MAAOlC,GACP,OAAOC,QAAQC,OAAO,IAAIC,MAAMH,MAIpCjB,EAAKyC,wBAA0B,SAASe,GACtC,IACExD,EAAKsC,eAAe,CAACkB,IAErB,OAAOxD,EAAK6B,QAAL7B,CAAcA,EAAK0D,2BAA2BF,GAD1C,CAAE1B,MAAO,IAAMC,YAAa,KAEvC,MAAOd,GACP,OAAOC,QAAQC,OAAO,IAAIC,MAAMH,MAIpCjB,EAAK2D,UAAY,WACf,OAAO,IAAIzC,SAAQ,SAASmB,EAASlB,GACnCnB,EACG4B,iBACAc,MAAK,SAAAC,GACJ,IAAMiB,EAAajB,EAAEE,KACrBC,QAAQC,IAAI,OAASa,EAAWZ,OAAS,gBAEzC,IADA,IAAIC,EAAW,GACNC,EAAI,EAAGA,EAAIU,EAAWZ,OAAQE,IAAK,CAC1C,IAAMjB,EAAY2B,EAAWV,GAC7BJ,QAAQC,IACN,sBAAwBc,KAAKC,UAAU7B,GAAa,iBAEtDgB,EAAStC,KAAKX,EAAKoC,gBAAgBH,IAErCf,QAAQmC,IAAIJ,GACTP,KAAKL,GACLtB,MAAMI,MAEVJ,MAAMI,OAKbnB,EAAK0D,2BAA6B,SAASF,GACzC,MAAO,cAAgBA,GAGzBxD,EAAKc,MAAQ,WACX,OAAOiD,IAAKC,UAAUhE,EAAKE,SAAS+D,IAAIC,KAAKlE,EAAKE,YAEpDF,EAAK6B,OAAS,WACZ,OAAOkC,IAAKC,UAAUhE,EAAKE,SAASiE,KAAKD,KAAKlE,EAAKE,YAErDF,EAAKmC,SAAW,WACd,OAAO4B,IAAKC,UAAUhE,EAAKE,SAASkE,OAAOF,KAAKlE,EAAKE,YAEvDF,EAAKuB,SAAW,WACd,OAAOwC,IAAKC,UAAUhE,EAAKE,SAASmE,OAAOH,KAAKlE,EAAKE,YAEvDF,EAAKsD,SAAW,WACd,OAAOS,IAAKC,UAAUhE,EAAKE,SAASoE,OAAOJ,KAAKlE,EAAKE,YAGvDF,EAAKgB,gBAAkB,SAASC,GAC9B,GAAgB,KAAZA,EAAEsD,OAAe,KAAM,kCAC3B,OAAOtD,GAGTjB,EAAKsC,eAAiB,SAASkC,GAC7B,IAAK,IAAItB,KAAKsB,EACZxE,EAAKyE,eACHD,EAAOtB,IACP,EACA,uBAAyBW,KAAKC,UAAUU,GAAU,OAIxDxE,EAAKkC,cAAgB,SAASwC,GAC5B,IAAK,IAAIC,KAAKD,EACZ1E,EAAKyE,eACHC,EAAIC,GACC,QAALA,GAAoB,MAALA,EACf,kBAAoBA,EAAI,OAASd,KAAKC,UAAUY,GAAO,OAI7D1E,EAAKyE,eAAiB,SAASG,EAAOC,EAAmBC,GACvD,IAAIC,EAOJ,GANKD,IAAMA,EAAO,IACbF,GAAmB,KAAVA,EAEFC,GAAsB,qBAAqBG,KAAKJ,KAC1DG,EAAMD,EAAO,kBAAoBF,EAAQ,KAFzCG,EAAMD,EAAO,6BAIXC,EAEF,MADAjC,QAAQmC,MAAMF,GACRA,GAIK/E,Q,gCC1OTA,EAAO,CAEX6C,KAAM,GAENqC,oBAAqB,GAGvBlF,IAAW,SAAAmF,GAKT,OAJMA,KAAWnF,EAAK6C,MACpBC,QAAQC,IAAI,aAAeoC,EAAU,2BAGhCnF,EAAK6C,KAAKsC,IAInBnF,IAAW,SAACmF,EAASP,GAEnB5E,EAAK6C,KAAKsC,GAAWP,EAEjBO,KAAWnF,EAAKkF,qBAElBlF,EAAKkF,oBAAoBC,GAASP,KAMhCQ,EAAyB,SAAAD,GAAO,OAAI,WAAO,IAAD,EACxBE,mBAASrF,EAAKiE,IAAIkB,IADM,wBAE9C,OAF8C,OAKhDnF,EAAKqF,SAAW,WAEdrF,EAAKkF,oBAAsB,GAFF,2BAIzB,YAAoBI,UAApB,+CAA+B,CAAC,IAAvBH,EAAsB,QAI7BrC,QAAQC,IAAI,yBAA0BoC,GACtCnF,EAAKkF,oBAAoBC,GAAWC,EAAuBD,EAAvBC,IATb,oFAa3BpF,EAAKqE,OAAS,SAACc,EAASI,GACtBvF,EAAKwF,IAAIL,EAASI,EAAkBvF,EAAKiE,IAAIkB,MAGhCnF,QClDTA,EAAI,aACRyF,WAAY,aACZC,qBAAsB,uBACtBC,WAAY,aACZC,SAAU,QACVC,MAAO,QACPC,OAAQ,SACRC,kBAAmB,oBACnBC,iBAAkB,oBAEfC,GAILjG,EAAKwF,IAAIxF,EAAKyF,WAAY,IAC1BzF,EAAKwF,IAAIxF,EAAK0F,qBAAsB,MACpC1F,EAAKwF,IAAIxF,EAAK2F,WAAY,IAC1B3F,EAAKwF,IAAIxF,EAAK4F,UAAU,GACxB5F,EAAKwF,IAAIxF,EAAK6F,MAAO,MACrB7F,EAAKwF,IAAIxF,EAAK+F,kBAAmB,IACjC/F,EAAKwF,IAAIxF,EAAKgG,iBAAkB,MAEjBhG,QCrBTA,EAAO,CAEbA,oBAA2B,kBAAMkG,EAAMjC,IAAIiC,EAAMH,oBACjD/F,mBAA0B,kBAAMkG,EAAMjC,IAAIiC,EAAMF,mBAEhDhG,qBAA4B,SAASwD,GACnC,OAAIA,KAAiBxD,EAAKmG,sBACjBjF,QAAQmB,QAAQrC,EAAKmG,sBAAsB3C,IAE7C4C,EAAY3D,wBAAwBe,GAAed,MAAK,SAAAC,GAC7D,IAAMC,EAAUD,EAAEE,KAUlB,OATAqD,EAAM7B,OAAO6B,EAAMH,mBAAmB,SAAAM,GACpC,IAAMC,EAAmB,eACpBD,GAGL,OADAC,EAAoB9C,GAAiBZ,EAC9B0D,KAGTxD,QAAQC,IAAI,iBAAkBH,GACvBA,MAIX5C,yBAAgC,WAC9B,OAAO,IAAIkB,SAAQ,SAASmB,EAASlB,GACnC,GAAInB,EAAKuG,qBAAsB,OAAOlE,EAAQrC,EAAKuG,sBACnDH,EACGxE,iBACAc,MAAK,SAAAC,GACJ,IACM6D,EADI7D,EAAEE,KACgB4D,MAAK,SAASC,EAAGC,GAC3C,OAAOD,EAAEnE,SAASC,KAAOmE,EAAEpE,SAASC,QAGtC0D,EAAMV,IAAIU,EAAMF,iBAAkBQ,GAElC1D,QAAQC,IAAI,0BAA2ByD,GACvCnE,EAAQmE,MAETzF,MAAMI,OAIbnB,oBAA2B,SAASwC,GAClC,OAAO,IAAItB,SAAQ,SAASmB,EAASlB,GACnC,OAAOnB,EACJ4G,2BACAlE,MAAK,SAAAkB,GACJ,IAAK,IAAIV,EAAI,EAAGA,EAAIU,EAAWZ,OAAQE,IACrC,GAAIU,EAAWV,GAAGX,SAASC,OAASA,EAClC,OAAOH,EAAQuB,EAAWV,IAE9Bb,OAEDtB,MAAMI,OAIbnB,aAAoB,SAASiC,GAC3BjC,EAAKmG,sBAAsBlE,EAAUM,SAASC,MAAQ,GACtD0D,EAAM7B,OAAO6B,EAAMF,kBAAkB,SAAAa,GAAG,4BAAQA,GAAR,CAAa5E,QAIvDjC,gBAAuB,SAASiC,GAC9BiE,EAAM7B,OAAO6B,EAAMH,mBAAmB,SAAAM,GACpC,IAAMC,EAAmB,eACpBD,GAGL,cADOC,EAAoBrE,EAAUM,SAASC,MACvC8D,KAGTJ,EAAM7B,OAAO6B,EAAMF,kBAAkB,SAAAa,GAAG,OACtCA,EAAIC,QAAO,SAASC,EAAGC,GACrB,OAAOD,EAAE5D,KAAOlB,EAAUkB,UAQhCnD,UAAiB,WACfkG,EAAMV,IAAIU,EAAMH,kBAAmB,IAEnCG,EAAMV,IAAIU,EAAMF,iBAAkB,MAIrBhG,IC3FTiH,EAAeC,EAAQ,KAEvBlH,EAAO,CACXiH,aAAcA,EAGhBjH,KAAY,WACV,OAAOA,EAAKmH,SAASjB,EAAMjC,IAAIiC,EAAMP,YAAYyB,MAAM5E,MAEzDxC,GAAU,WACR,OAAOA,EAAKmH,SAASjB,EAAMjC,IAAIiC,EAAMP,YAAY0B,IAAI7E,MAGvDxC,SAAgB,SAASmD,GACvB,KAAMA,KAAM8D,GACV,MAAM,IAAI7F,MAAM,kCAAoC+B,GACtD,OAAO8D,EAAa9D,KAGPnD,ICjBTiH,EAAeK,EAAiBL,aAChCM,EAAmBC,OAAOC,KAAKH,EAAiBL,cAuBvCS,MArBf,SAAwBC,GAKtB,OACE,kBAACC,EAAA,EAAKC,MAAN,KACE,kBAACD,EAAA,EAAKE,QAAN,CAAcC,GAAG,SAASnD,MAAO+C,EAAM/C,MAAOoD,SANlD,SAAsB/G,GACpB0G,EAAMM,SAAShH,EAAEiH,OAAOtD,SAMpB,4BAAQA,MAAM,IAAd,MAAqB+C,EAAMQ,MAA3B,OACCZ,EAAiBa,KAAI,SAAAzD,GACpB,OACE,4BAAQ0D,IAAK1D,EAAGC,MAAOD,GACpBsC,EAAatC,GAAGnC,YClBzBxC,EAAO,CAEbA,aAAoB,SAASsI,GAM3B,IALA,IACEC,EACAC,EAFEC,EAAeH,EAAMtF,OAKlB,IAAMyF,GAEXD,EAAcE,KAAKC,MAAMD,KAAKE,SAAWH,GAIzCF,EAAiBD,EAHjBG,GAAgB,GAIhBH,EAAMG,GAAgBH,EAAME,GAC5BF,EAAME,GAAeD,EAGvB,OAAOD,GAGTtI,KAAY,SAAS2H,EAAOkB,GAEtBlB,EAAMmB,SACRnB,EAAMmB,QAAQnI,KAAKkI,IAGvB7I,OAAc,SAAS2H,EAAOkB,GAC5B,OAAO,WACL7I,EAAK+I,KAAKpB,EAAOkB,KAIrB7I,YAAmB,SAASiB,GAC1B6B,QAAQmC,MAAMhE,GACdiF,EAAMV,IAAIU,EAAMN,UAAU,GAC1BM,EAAMV,IAAIU,EAAML,MAAO5E,KAGVjB,IC/BTgJ,EAAmB,CACvBC,MAAO,SAGHC,EAAa,CACjBC,UAAW,OA2DEC,MAxDf,SAAmBzB,GACjB7E,QAAQC,IAAI,iBAEZmD,EAAMb,SAASa,EAAMP,YAErB,IAAMnF,EAAI0F,EAAMjC,IAAIiC,EAAMP,YALF,EAMgBN,mBAAS7E,EAAIA,EAAE4G,KAAO,IANtC,mBAMjBiC,EANiB,KAMHC,EANG,OAOYjE,mBAAS7E,EAAIA,EAAE6G,GAAK,IAPhC,mBAOjBkC,EAPiB,KAOLC,EAPK,KA+BxB,OACE,yBAAKC,UAAU,aACb,wCAEA,kBAAC7B,EAAA,EAAD,CAAM8B,SA1BV,SAA2BzI,GAEzB,GADAA,EAAE0I,kBACGN,GAAiC,KAAjBA,EACnB,OAAOO,MAAM,iDACf,IAAKL,GAA6B,KAAfA,EACjB,OAAOK,MACL,gEAGJ,IAAMtI,EAAgB,CAAE8F,KAAMiC,EAAchC,GAAIkC,GAChDnD,EACG3E,kBAAkBH,GAClBoB,MAAK,SAAAS,GACJ7B,EAAc6B,GAAKA,EACnB+C,EAAMV,IAAIU,EAAMP,WAAYrE,GAC5BgI,EAAgB,IAChBE,EAAc,IACdK,EAAMd,KAAKpB,EAAO,kBAEnB5G,MAAM8I,EAAMC,cAOsBC,MAAOb,GACxC,kBAACtB,EAAA,EAAKoC,MAAN,yBACA,kBAAC,EAAD,CACE7B,MAAM,eACNvD,MAAOyE,EACPpB,SAAUqB,IAEZ,kBAAC1B,EAAA,EAAKoC,MAAN,8BACA,kBAAC,EAAD,CACE7B,MAAM,+BACNvD,MAAO2E,EACPtB,SAAUuB,IAEZ,kBAACS,EAAA,EAAD,CAAQC,QAAQ,UAAUC,KAAK,SAASJ,MAAOf,GAA/C,W,0CCxDFoB,G,MAAiB,aAsHRC,mBApHf,SAA2B1C,GACzB7E,QAAQC,IAAI,yBACZ,IAAMuH,EAAMC,iBAAO,MAFa,EAefC,YAAQ,CACvBC,OAAQL,EAERM,KAHuB,SAGlBC,EAAMC,GACTjD,EAAMkD,kBACN3E,EAAMV,IAAIU,EAAMR,qBAAsB,OAGxCoF,MARuB,SAQjBH,EAAMC,GACV,GAAKN,EAAIS,QAAT,CAGA,IAAMC,EAAYL,EAAKM,MACjBC,EAAavD,EAAMsD,MAEzB,GAAID,IAAcE,EAAlB,CAIA,IAAMC,EAAoBb,EAAIS,QAAQK,wBAEhCC,GACHF,EAAkBG,OAASH,EAAkBI,KAAO,EAIjDC,EAFeZ,EAAQa,kBAEKC,EAAIP,EAAkBI,IAKpDP,EAAYE,GAAcM,EAAeH,GAIzCL,EAAYE,GAAcM,EAAeH,IAI7C1D,EAAMgE,cAAcX,EAAWE,GAK/BP,EAAKM,MAAQC,QA5CRR,EAfuB,sBA+DHkB,YAAQ,CACnCjB,KAAM,CAAER,KAAMC,EAAgBjH,GAAIwE,EAAMkE,YAAaZ,MAAOtD,EAAMsD,OAClEa,QAAS,SAAAlB,GAAO,MAAK,CACnBmB,WAAYnB,EAAQmB,iBAlEQ,wBA+DzBA,YAQPC,EAvEgC,MAuE3BtB,EAAKJ,IAEV,IAAI2B,EAAqB,KAEnBC,EAAc,SAAA/I,GAAE,OAAI,WACxB8I,EAAqBE,YAAW,WAC9BrJ,QAAQC,IAAI,kCAAoCI,GAChD+C,EAAMV,IAAIU,EAAMR,qBAAsBvC,KACrC,OAECiJ,EAAY,SAAAjJ,GAAE,OAAI,WACtBL,QAAQC,IAAI,qCACZsJ,cAAcJ,GACd/F,EAAMV,IAAIU,EAAMR,qBAAsB,QAGlC4G,EAAa,GAQnB,OAPIpG,EAAMjC,IAAIiC,EAAMR,uBAAyBiC,EAAMkE,aACjDS,EAAW3L,KAAK,oBAE4B,OAA1CuF,EAAMjC,IAAIiC,EAAMR,uBAClB4G,EAAW3L,KAAK,iBAIhB,wBACE2J,IAAKA,EACLjC,IAAKV,EAAMkE,YACXU,QAAS1C,EAAM2C,OAAO7E,EAAb,sBAAmCA,EAAMnE,gBAClDiG,UAAW6C,EACXJ,YAAaA,EAAYvE,EAAMkE,aAC/BO,UAAWA,EAAUzE,EAAMkE,aAC3BY,aAAcP,EAAYvE,EAAMkE,aAChCa,WAAYN,EAAUzE,EAAMkE,cAE5B,0BAAMpC,UAAU,cACb9B,EAAMnE,cADT,IApG6B,WAC/B,IAAM6C,EAAmBH,EAAMjC,IAAIiC,EAAMH,mBAEzC,OADAjD,QAAQC,IAAIsD,GACRsB,EAAMkE,eAAexF,EAChBA,EAAiBsB,EAAMkE,aAAa7I,OAEtC,GA+FoB2J,IAEzB,0BAAMlD,UAAU,cACd,kBAAC,IAAD,CAAiBmD,KAAMC,IAAQC,KAAK,KAAKrD,UAAU,gB,mECqI5CY,mBA3Of,SAAwB1C,GACtB7E,QAAQC,IAAI,sBAEZmD,EAAMb,SAASa,EAAMT,WAAYS,EAAMR,sBAHV,IASzBqH,EATyB,EAKC1H,oBAAS,GALV,mBAKtB2H,EALsB,KAKbC,EALa,OAMmB5H,mBAAS,IAN5B,mBAMtB6H,EANsB,KAMJC,EANI,OAO2B9H,oBAAS,GAPpC,mBAOtB+H,EAPsB,KAOAC,EAPA,KA8D7B,SAASC,IACPP,EAAc7G,EAAMjC,IAAIiC,EAAMT,YAAY2C,KAAI,SAAArB,GAC5C,MAAO,CAAE5D,GAAI4D,EAAE5D,GAAIX,KAAMuE,EAAExE,SAASC,SAGtCM,QAAQC,IAAI,aAAcgK,GAC1B3G,EACGzE,uBAAuBoL,GACvBrK,OACA3B,MAAM8I,EAAMC,aAyCjB,SAASyD,IACPzK,QAAQC,IAAI,QACZsK,GAAwB,GAvG1BG,qBAAU,WAKRC,EAAiB7G,2BACdlE,MAAK,SAAAmE,GAOV,IAAwB6G,EANlB5K,QAAQC,IAAI,gBAAiB8D,GAMX6G,EALH,YAAI7G,GAMvB/D,QAAQC,IAAI,MAAO2K,GACnBtH,EACG1E,wBACAgB,MAAK,SAAAiL,GACJZ,EAAcY,EAAeA,EAAapL,SAAW,GACrDO,QAAQC,IAAI,eAAgBgK,GAET,MAAfA,IACFA,EAAc,IAGhB,IAAMa,EAAW,SAAAC,GAAG,OAAId,EAAYe,WAAU,SAAAC,GAAC,OAAIA,EAAE5K,KAAO0K,MAC5DH,EAAcA,EAAYjH,MAAK,SAACC,EAAGC,GACjC,OAAOiH,EAASlH,EAAEvD,IAAMyK,EAASjH,EAAExD,OAGrC+C,EAAMV,IAAIU,EAAMT,WAAYiI,GAC5BT,GAAW,GASjB,WACE,IAAK,IAAI/J,KAAKgD,EAAMjC,IAAIiC,EAAMT,YAC5B,IACGsH,EAAY7J,IACb6J,EAAY7J,GAAGC,KAAO+C,EAAMjC,IAAIiC,EAAMT,YAAYvC,GAAGC,GAErD,OAAO,EAbH6K,IACFV,OAGHvM,MAAM8I,EAAMC,gBA3BZ/I,MAAM8I,EAAMC,eARd,IAsHH,IAAM6B,EAAgBsC,uBACpB,SAACjD,EAAWE,GACV,IAAMgD,EAAgBhI,EAAMjC,IAAIiC,EAAMT,YAAYuF,GAClD9E,EAAMV,IACJU,EAAMT,WACNpB,IAAO6B,EAAMjC,IAAIiC,EAAMT,YAAa,CAClC0I,QAAS,CAAC,CAACnD,EAAW,GAAI,CAACE,EAAY,EAAGgD,SAIhD,CAAChI,EAAMjC,IAAIiC,EAAMT,cAGb2I,EAAe,CACnBC,SAAU,CACR,CACEC,QAASC,KAEX,CACED,QAASE,IACTC,SAAS,EACTC,WAAYC,IACZC,QAAS,CACPC,gBAAiB,QAUzB,OACE,kBAAC,IAAMC,SAAP,KACE,0CAEA,kBAAC,IAAD,CACEhC,KAAM,IACNiC,MAAO,UACP/B,QAASA,EACTgC,IAZa,CACjBC,OAAQ,cAcN,yBAAKxF,UAAU,wBACZ,IACD,kBAACyF,EAAA,EAAD,CAAaZ,QAASa,IAAcP,QAASR,GAC3C,wBAAI3E,UAAU,cACXvD,EAAMjC,IAAIiC,EAAMT,YAAY2C,KAAI,SAACrB,EAAGkE,GACnC,OACE,kBAAC,EAAD,CACE5C,IAAKtB,EAAE5D,GACP8H,MAAOA,EACPY,YAAa9E,EAAE5D,GACfK,cAAeuD,EAAExE,SAASC,KAC1BmJ,cAAeA,EACfd,gBAAiByC,SAM3B,yBAAK7D,UAAU,SACb,0BAAMC,SAxHd,SAAsBzI,GA2BpB,OA1BAA,EAAE0I,iBAEF8D,EAAiB2B,oBAAoBlC,GAClCxK,MAAK,SAAAqE,GACJ,GAAIA,EACF6C,MAAM,cAAgBsD,EAAmB,uBACpC,CACL,IAAM3K,EAAW,CAAEC,KAAM0K,GACzB9G,EACGpE,aAAaO,GACbG,MAAK,SAAAS,GACJ,IAAIlB,EAAY,CAAEkB,GAAIA,EAAIZ,SAAUA,GACpCkL,EAAiBzL,aAAaC,GAC9BiE,EAAMV,IAAIU,EAAMT,WAAhB,CACExD,GADF,mBAEKiE,EAAMjC,IAAIiC,EAAMT,eAErB0H,EAAoB,IACpBG,IACAzD,EAAMd,KAAKpB,EAAO,eAAiBuF,MAEpCnM,MAAM8I,EAAMC,iBAGlB/I,MAAM8I,EAAMC,cAER,IA8FC,kBAAClC,EAAA,EAAKoC,MAAN,sBACA,kBAACqF,EAAA,EAAD,CACEzK,MAAOsI,EACPlF,SA9FZ,SAAsB/G,GACpBkM,EAAoBlM,EAAEiH,OAAOtD,QA8FnB0K,YAAY,iBACZC,aAAW,iBACXC,mBAAiB,iBAEnB,kBAACvF,EAAA,EAAD,CAAQE,KAAK,SAASJ,MAAO,CAAEd,MAAO,UAAtC,aAON,yBAAKQ,UAAU,iBACX2D,GACA,kBAACnD,EAAA,EAAD,CAAQE,KAAK,SAASD,QAAQ,SAASqC,QAxG/C,WACEzJ,QAAQC,IAAI,QACZsK,GAAwB,KAsGlB,eAIDD,GACC,oCACE,kBAACnD,EAAA,EAAD,CACEE,KAAK,SACLD,QAAQ,YACRqC,QAASgB,GAHX,UAOA,kBAACtD,EAAA,EAAD,CAAQE,KAAK,SAASD,QAAQ,SAASqC,QA5GjD,WACEzJ,QAAQC,IAAI,eACZwK,IACAnH,EACGzC,YACAjB,MAAK,WACJ+K,EAAiB9J,YACjBuC,EAAMV,IAAIU,EAAMT,WAAY,IAC5B0H,EAAoB,IACpBG,OAEDvM,MAAM8I,EAAMC,eAiGP,0BCxNGO,oBAvBf,SAAmB1C,GAKjB,OACE,4BACGA,EAAM8H,SACL,yBAAKlD,QAPX,WACE1C,EAAMd,KAAKpB,EAAOA,EAAM8H,WAMAhG,UAAU,iBAC5B,kBAAC,IAAD,CACEmD,KAAMC,IACN6C,SAAU,IACV3F,MAAO,CAAE4F,YAAa,UAEvBhI,EAAMQ,OAGT,oCAAGR,EAAMQ,W,uBCyPFkC,oBAzPf,SAAmB1C,GACjB7E,QAAQC,IAAI,iBACZ,IAAMS,EAAgBmE,EAAMiI,MAAMC,OAAOC,eAFjB,EAIMzK,oBAAS,GAJf,mBAIjB2H,EAJiB,KAIRC,EAJQ,OAKwB5H,mBAAS,IALjC,mBAKjBgB,EALiB,KAKC0J,EALD,OAMgB1K,mBAAS,IANzB,mBAMjB2K,EANiB,KAMHC,EANG,OAOY5K,mBAAS,IAPrB,mBAOjB6K,EAPiB,KAOLC,EAPK,OAQoC9K,mBAAS,IAR7C,mBAQjB+K,EARiB,KAQOC,EARP,OASgChL,oBAAS,GATzC,mBASjB+H,EATiB,KASKC,EATL,KA8DxB,SAASiD,EAAWC,GAClB,OAAO,WACL,GAA+B,GAA3BlK,EAAiBrD,OACnB,OAAO4G,MAAM,kDAEf1D,EAAMV,IAAIU,EAAMqK,OAAQA,GACxB1G,EAAMd,KAAKpB,EAAO,eAAiBnE,EAAgB,UA2BvD,SAAS+J,IACPzK,QAAQC,IAAI,QACZsK,GAAwB,GA4B1B,OAlHAG,qBAAU,WACRC,EAAiB+C,qBAAqBhN,GACnCd,MAAK,SAAAE,GACJE,QAAQC,IAAIH,GACCmN,EAATnN,EAA6B,YAAIA,GACZ,IACzBqK,GAAW,MAEZlM,MAAM8I,EAAMC,eACd,IA0GD,kBAAC,IAAMgF,SAAP,KACE,kBAAC,GAAD,CAAW3G,MAAO3E,EAAeiM,SAAU,gBAE3C,yBAAKhG,UAAU,cACb,kBAACQ,EAAA,EAAD,CACER,UAAU,iCACV8C,QAAS+D,GAAW,IAEpB,kBAAC,IAAD,CAAiB1D,KAAMC,MACvB,6BACCvF,EAAiBD,KAAM,IACxB,kBAAC,IAAD,CAAiBuF,KAAM6D,IAAc3D,KAAK,OAAQ,IACjDxF,EAAiBF,QAGpB,kBAAC6C,EAAA,EAAD,CACER,UAAU,kCACV8C,QAAS+D,GAAW,IAEpB,kBAAC,IAAD,CAAiB1D,KAAMC,MACvB,6BACCvF,EAAiBF,OAAQ,IAC1B,kBAAC,IAAD,CAAiBwF,KAAM6D,IAAc3D,KAAK,OAAQ,IACjDxF,EAAiBD,OAItB,yBAAKoC,UAAU,cACb,kBAAC7B,EAAA,EAAD,CAAM8B,SApIZ,SAA2BzI,GACzBA,EAAE0I,iBAEF,IAAMpH,EAAW,CACf6E,KAAM4I,EACN3I,GAAI6I,EACJQ,EAAGN,GAqBL,OAnBAhK,EACG7C,kBAAkBC,EAAejB,GACjCG,MAAK,SAAAS,GACJ,IAAIM,EAAQ,CAAEN,GAAIA,EAAIZ,SAAUA,GAChCwN,EAAoB,GAAD,mBAAK1J,GAAL,CAAuB5C,KAC1CyC,EAAM7B,OAAO6B,EAAMH,mBAAmB,SAAAnD,GACpC,IAAM+N,EAAU,eAAQ/N,GAKxB,OAJKY,KAAiBmN,IACpBA,EAAWnN,GAAiB,IAE9BmN,EAAWnN,GAAe7C,KAAK8C,GACxBkN,KAGTV,EAAgB,IAChBE,EAAc,IACdE,EAA0B,OAE3BtP,MAAM8I,EAAMC,cACR,GAyGgCL,UAAU,kBAC3C,kBAAC7B,EAAA,EAAKoC,MAAN,kBACA,kBAACpC,EAAA,EAAKE,QAAN,CACEqC,KAAK,OACLmF,YAAahI,EAAiBF,OAC9BxC,MAAOoL,EACPhI,SA5GV,SAA0B/G,GACxBgP,EAAgBhP,EAAEiH,OAAOtD,UA6GnB,kBAACgD,EAAA,EAAKE,QAAN,CACEqC,KAAK,OACLmF,YAAahI,EAAiBD,KAC9BzC,MAAOsL,EACPlI,SA/GV,SAAwB/G,GACtBkP,EAAclP,EAAEiH,OAAOtD,UAgHjB,kBAACgD,EAAA,EAAKE,QAAN,CACEqC,KAAK,OACLmF,YAAY,iBACZ1K,MAAOwL,EACPpI,SAlHV,SAAoC/G,GAClCoP,EAA0BpP,EAAEiH,OAAOtD,UAmH7B,kBAACqF,EAAA,EAAD,CAAQE,KAAK,UAAb,SAIJ,yBAAKV,UAAU,cACb,0CAEA,kBAAC,IAAD,CACEqD,KAAM,IACNiC,MAAO,UACP/B,QAASA,EACTgC,IAhEW,CACjBC,OAAQ,cAkEJ,yBAAKxF,UAAU,wBACe,GAA3BpD,EAAiBrD,OAChB,sDAEA,kBAAC,SAAD,KACE,kBAAC,SAAD,KACE,kBAAC,MAAD,KACE,kBAAC,MAAD,KAAKsE,EAAiBF,QACtB,kBAAC,MAAD,KAAKE,EAAiBD,MACtB,kBAAC,MAAD,sBACA,kBAAC,MAAD,QAGJ,kBAAC,SAAD,KACGhB,EAAiB+B,KAAI,SAAAnH,GACpB,OACE,kBAAC,MAAD,CAAIoH,IAAKpH,EAAEkC,IACT,kBAAC,MAAD,KAAKlC,EAAEsB,SAAS6E,MAChB,kBAAC,MAAD,KAAKnG,EAAEsB,SAAS8E,IAChB,kBAAC,MAAD,KAAKpG,EAAEsB,SAASmO,GAChB,kBAAC,MAAD,CAAIjH,UAAU,cACZ,kBAAC,IAAD,CACEmD,KAAMgE,IACNnH,UAAU,gBACV8C,SA5IHpJ,EA4IwBlC,EAAEkC,GA3ItC,WACLiD,EACGhD,qBAAqBI,EAAeL,GACpCT,MAAK,SAAAC,GACJ,IAAIgO,EAAatK,EAAiBS,QAAO,SAASrD,GAChD,OAAOA,EAAMN,KAAOA,KAEtB+C,EAAMV,IAAIU,EAAMH,mBAAmB,SAAAM,GACjC,IAAMC,EAAmB,eAAQD,GAEjC,OADAC,EAAoB9C,GAAiBmN,EAC9BrK,KAETyJ,EAAoBY,MAErB5P,MAAM8I,EAAMC,mBAfnB,IAAqB3G,SAwJjB,yBAAKsG,UAAU,iBACX2D,GACA,kBAACnD,EAAA,EAAD,CAAQE,KAAK,SAASD,QAAQ,SAASqC,QAvI/C,WACEzJ,QAAQC,IAAI,QACZsK,GAAwB,KAqIlB,qBAIDD,GACC,oCACE,kBAACnD,EAAA,EAAD,CACEE,KAAK,SACLD,QAAQ,YACRqC,QAASgB,GAHX,UAOA,kBAACtD,EAAA,EAAD,CAAQE,KAAK,SAASD,QAAQ,SAASqC,QA3IjD,WACEzJ,QAAQC,IAAI,eACZwK,IAEAE,EAAiB2B,oBAAoB5L,GAClCd,MAAK,SAAAqE,GACAA,EACFX,EACGhE,gBAAgB2E,GAChBrE,MAAK,SAAAC,GACJ8K,EAAiBoD,gBAAgB9J,GACjC8C,EAAMd,KAAKpB,EAAO,kBAEnB5G,MAAM8I,EAAMC,aAEfF,MAAM,8BAAgCpG,MAGzCzC,MAAM8I,EAAMC,eAyHP,gCCrNGgH,OA7Cf,SAAuBnJ,GACrB,SAASoJ,IACP3K,EAAYlG,SAAS8Q,+BAGvB,OACE,yBAAKjH,MAAO,CAAEZ,UAAW,QACvB,2CAEE,yBACE8H,MAAM,gBACNC,IAAI,qDAEN,uBAAGD,MAAM,gBAAgBE,KAAK,2BAA9B,eAEK,IARP,kBAWA,uBAAGF,MAAM,WAAT,mCACA,4BACE,4BACE,uBAAG1E,QAASwE,GACV,kBAAC9G,EAAA,EAAD,CAAQ6C,KAAK,MAAb,UAFJ,cAMA,mFAEF,uBAAGmE,MAAM,WAAT,iCACA,4BACE,4BACE,uBAAG1E,QAASwE,GACV,kBAAC9G,EAAA,EAAD,CAAQ6C,KAAK,MAAb,sBAFJ,cAMA,0GClCR,SAASsE,KACPhL,EAAYlG,SAASmR,iBAGvB,IAAMC,GAAS,CACbC,QAAS,gBACTC,SAAU,WACVC,MAAO,GAGHC,GAAY,CAChBC,WAAY,MACZ5C,MAAO,QA6BM1E,oBA1Bf,SAAgB1C,GAId,OAHA7E,QAAQC,IAAI,cACZmD,EAAMb,SAASa,EAAMP,YAGnB,yBAAKoE,MAAOuH,IACT3J,EAAMpH,gBACL,oCACE,kBAAC,IAAD,CAAM8G,GAAG,aAAa0C,MAAO2H,IAC3B,kBAAC,IAAD,CAAiB9E,KAAMgF,IAAYnI,UAAU,mBAE/C,uBAAG8C,QAAS6E,GAAQ3H,UAAU,aAAaM,MAAO2H,IAChD,kBAAC,IAAD,CACE9E,KAAMiF,IACNpI,UAAU,gBACVqD,KAAK,SAKX,yCCvCO,SAAS1L,GAAMuG,GAU5B,OATA7E,QAAQC,IAAI,WAUV,oCACE,yBAAKgH,MAAO,CAAEkF,OAAQ,WAAYF,MAAO,YAAzC,sCAEE,6BAXN,WACE,IAAM9N,EAAI0G,EAAM1C,MAChB,OAAKhE,EACDA,aAAa6Q,OAAe7Q,EACzB4C,KAAKC,UAAU7C,GAFP,qBAUV8Q,KChBT,ICOI1L,GDPEiL,GAAS,CACbnI,UAAW,MACX6I,UAAW,UAGE,YAASrK,GAEtB,OADA7E,QAAQC,IAAI,OACL,yBAAKgH,MAAOuH,IAAZ,QCCLrG,I,OAAQ,GAkEGZ,oBAhEf,SAAuB1C,GACrB,IAAMnE,EAAgBmE,EAAMiI,MAAMC,OAAOC,eADb,EAGIzK,mBAAS,IAHb,mBAGrB4M,EAHqB,KAGXC,EAHW,OAIA7M,mBAAS,IAJT,mBAIrB8M,EAJqB,KAIbC,EAJa,OAKc/M,mBAAS,IALvB,mBAKrBgN,EALqB,KAKNC,EALM,OAMQjN,oBAAS,GANjB,mBAMrBkN,EANqB,KAMTC,EANS,KAc5B,SAASC,EAAU7P,GACjBE,QAAQC,IAAI,UAAYH,EAAQI,OAAS,aACzCqD,GAAmBwD,EAAM6I,aAAa9P,GACtC+P,IASF,SAASA,IACP7P,QAAQC,IAAI,2BAA4BkI,GAAOsH,GAC/C,IAAM9O,EAAQ4C,GAAiB4E,GAAQ5E,GAAiBrD,QAClDuN,EAASrK,EAAMjC,IAAIiC,EAAMJ,QAC/BoM,EAAY3B,EAAS9M,EAAMlB,SAAS6E,KAAO3D,EAAMlB,SAAS8E,IAC1D+K,EAAU7B,EAAS9M,EAAMlB,SAAS8E,GAAK5D,EAAMlB,SAAS6E,MACtDkL,EAAiB7O,EAAMlB,SAASmO,GAGlC,SAASkC,IACP,MAAO,CAAEC,QAASN,EAAa,IAAM,KAGvC,OA/BA/E,qBAAU,WACRC,EAAiB+C,qBAAqBhN,GACnCd,KAAK+P,GACL1R,MAAM8I,EAAMC,eACd,IA4BD,kBAAC,IAAMgF,SAAP,KACE,kBAAC,GAAD,CACE3G,MAAO3E,EACPiM,SAAU,eAAiBjM,IAE7B,yBAAKiG,UAAU,oBAAoB8C,QAzBvC,WACMgG,GAAYtH,KAChBuH,GAAeD,GACfI,MAuBI,yBAAKlJ,UAAU,qBACb,yBAAKA,UAAU,qBACb,yBAAKA,UAAU,YAAYwI,GAC3B,yBAAKxI,UAAU,aACf,yBAAKA,UAAU,SAASM,MAAO6I,KAC5BT,GAEH,yBAAK1I,UAAU,aACf,yBAAKA,UAAU,iBAAiBM,MAAO6I,KACpCP,U,oBCoBAS,OAlEf,WACEhQ,QAAQC,IAAI,yBAEZmD,EAAMb,SAASa,EAAMP,WAAYO,EAAMN,SAAUM,EAAML,OAH1C,MAK6BR,oBAAS,GALtC,mBAKN0N,EALM,KAKSC,EALT,KAoDb,OA7CAxF,qBAAU,WACRpH,EAAY6M,MAAK,SAAAC,GACfF,EAAiBE,GACbA,EACF9M,EACG5E,mBACAkB,MAAK,SAAAlC,GACJsC,QAAQC,IAAI,2BACZD,QAAQC,IAAIvC,GACZ0F,EAAMV,IAAIU,EAAMP,WAAYnF,EAAIA,EAAE+B,SAAW,MAC7C2D,EAAMV,IAAIU,EAAMN,UAAU,MAE3B7E,MAAM8I,EAAMC,aAEf5D,EAAMV,IAAIU,EAAMN,UAAU,QAG7B,IA6BD,yBAAK6D,UAAU,OACZvD,EAAMjC,IAAIiC,EAAMN,UACf,kBAAC,IAAD,CAAeuN,SAAQ,UAAKC,yBAC1B,kBAAC,GAAD,CAAQ7S,gBAAiBwS,IACzB,yBAAKtJ,UAAU,oBA9BjBvD,EAAMjC,IAAIiC,EAAML,OAAe,kBAAC,GAAD,CAAOZ,MAAOiB,EAAMjC,IAAIiC,EAAML,SAC5DkN,EACA7M,EAAMjC,IAAIiC,EAAMP,YAEnB,oCACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO0N,OAAK,EAACxK,KAAK,aAAayK,UAAWlK,IAC1C,kBAAC,IAAD,CAAOiK,OAAK,EAACxK,KAAK,cAAcyK,UAAWC,IAC3C,kBAAC,IAAD,CACEF,OAAK,EACLxK,KAAK,8BACLyK,UAAWE,KAEb,kBAAC,IAAD,CACEH,OAAK,EACLxK,KAAK,mCACLyK,UAAWG,KAEb,kBAAC,IAAD,CAAOJ,OAAK,EAACxK,KAAK,IAAIyK,UAAWC,IACjC,kBAAC,IAAD,CAAO1K,KAAK,IAAIyK,UAAWI,OAjBQ,kBAAC,EAAD,MADd,kBAAC,GAAD,QAgCvB,oDCrEYC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASlE,MACvB,2DCVNmE,IAASC,OAAO,kBAAC,GAAD,MAASC,SAASC,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM3R,MAAK,SAAA4R,GACjCA,EAAaC,iB","file":"static/js/main.31060314.chunk.js","sourcesContent":["import util from \"util\";\nimport _OneStore from \"onestore-client-node\";\n\nconst store_configuration = \"Configuration\";\nconst store_flashcards = \"Flashcards\";\n\nconst self = {};\n\nself.load = function(onAuthenticationChanged) {\n  self.onestore = new _OneStore.Client({\n    jsonify: true,\n    //widgetElementId: \"onestore-widget-container\",\n    authMethod: \"popup.auto\",\n    onAuthenticationChanged: onAuthenticationChanged\n  });\n};\n\nself.isAuthenticated = function() {\n  return self.onestore && self.onestore.isAuthenticated();\n};\n\nself.registerAuthenticationCallback = function(c) {\n  if (self.authenticationCallbacks.indexOf(c) < 0)\n    self.authenticationCallbacks.push(c);\n};\n\nconst uuid_configuration_settings = \"00000000-0000-0000-0000-000000000000\";\nconst uuid_configuration_flashcards_order =\n  \"00000000-0000-0000-0000-000000000001\";\n\nself.getConfigurationItem = _uuid => () => {\n  try {\n    return self\n      ._getP()(store_configuration, _uuid)\n      .catch(self._catchHttpError);\n  } catch (e) {\n    return Promise.reject(new Error(e));\n  }\n};\n\nself.saveConfigurationItem = _uuid => configuration => {\n  try {\n    return self._updateP()(store_configuration, _uuid, configuration);\n  } catch (e) {\n    return Promise.reject(new Error(e));\n  }\n};\n\nself.getConfiguration = self.getConfigurationItem(uuid_configuration_settings);\nself.saveConfiguration = self.saveConfigurationItem(\n  uuid_configuration_settings\n);\n\nself.getFlashcardsOrdering = self.getConfigurationItem(\n  uuid_configuration_flashcards_order\n);\nself.saveFlashcardsOrdering = self.saveConfigurationItem(\n  uuid_configuration_flashcards_order\n);\n\nself.listFlashcards = function() {\n  try {\n    var opts = { limit: 1000, maxRequests: 20 };\n    return self._listP()(store_flashcards, opts);\n  } catch (e) {\n    return Promise.reject(new Error(e));\n  }\n};\n\nself.addFlashcard = function(flashcard) {\n  try {\n    self._validateKeys(flashcard);\n    return self._createP()(store_flashcards, flashcard);\n  } catch (e) {\n    return Promise.reject(new Error(e));\n  }\n};\n\nself.deleteFlashcard = function(flashcard) {\n  return new Promise(function(resolve, reject) {\n    try {\n      self._validateNames([flashcard.userdata.name]);\n\n      self.loadAllFlashcardEntries(flashcard.userdata.name).then(r => {\n        const entries = r.data;\n        console.log(\n          \"Got \" +\n            entries.length +\n            \" entries for flashcard \" +\n            flashcard.userdata.name\n        );\n        var promises = [];\n        for (var i = 0; i < entries.length; i++) {\n          const e = entries[i];\n          console.log(\n            \"Schedule flashcard \" +\n              flashcard.userdata.name +\n              \" entry \" +\n              e.id +\n              \" for deletion\"\n          );\n          promises.push(\n            self.deleteFlashcardEntry(flashcard.userdata.name, e.id)\n          );\n        }\n        Promise.all(promises)\n          .then(() => {\n            console.log(\n              \"Flashcard \" + flashcard.userdata.name + \" will now be removed...\"\n            );\n            self\n              ._removeP()(store_flashcards, flashcard.id)\n              .then(resolve)\n              .catch(reject);\n          })\n          .catch(reject);\n      });\n    } catch (e) {\n      reject(e);\n    }\n  });\n};\n\nself.addFlashcardEntry = function(flashcardName, entry) {\n  try {\n    self._validateNames([flashcardName]);\n    return self._createP()(\n      self._getFlashcardsEntriesStore(flashcardName),\n      entry\n    );\n  } catch (e) {\n    return Promise.reject(new Error(e));\n  }\n};\n\nself.deleteFlashcardEntry = function(flashcardName, id) {\n  try {\n    self._validateNames([flashcardName, id]);\n\n    return self._removeP()(self._getFlashcardsEntriesStore(flashcardName), id);\n  } catch (e) {\n    return Promise.reject(new Error(e));\n  }\n};\n\nself.loadAllFlashcardEntries = function(flashcardName) {\n  try {\n    self._validateNames([flashcardName]);\n    var opts = { limit: 1000, maxRequests: 20 };\n    return self._listP()(self._getFlashcardsEntriesStore(flashcardName), opts);\n  } catch (e) {\n    return Promise.reject(new Error(e));\n  }\n};\n\nself.deleteAll = function() {\n  return new Promise(function(resolve, reject) {\n    self\n      .listFlashcards()\n      .then(r => {\n        const flashcards = r.data;\n        console.log(\"Got \" + flashcards.length + \" flashcards.\");\n        var promises = [];\n        for (var i = 0; i < flashcards.length; i++) {\n          const flashcard = flashcards[i];\n          console.log(\n            \"Schedule flashcard \" + JSON.stringify(flashcard) + \" for deletion\"\n          );\n          promises.push(self.deleteFlashcard(flashcard));\n        }\n        Promise.all(promises)\n          .then(resolve)\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\n/* PRIVATE */\nself._getFlashcardsEntriesStore = function(flashcardName) {\n  return \"Flashcards_\" + flashcardName;\n};\n\nself._getP = function() {\n  return util.promisify(self.onestore.get.bind(self.onestore));\n};\nself._listP = function() {\n  return util.promisify(self.onestore.list.bind(self.onestore));\n};\nself._createP = function() {\n  return util.promisify(self.onestore.create.bind(self.onestore));\n};\nself._updateP = function() {\n  return util.promisify(self.onestore.update.bind(self.onestore));\n};\nself._removeP = function() {\n  return util.promisify(self.onestore.remove.bind(self.onestore));\n};\n\nself._catchHttpError = function(e) {\n  if (e.status == 429) throw \"onestore.io API limit exceeded!\";\n  return e;\n};\n\nself._validateNames = function(values) {\n  for (var i in values) {\n    self._validateValue(\n      values[i],\n      false,\n      \"Validating names in \" + JSON.stringify(values) + \". \"\n    );\n  }\n};\nself._validateKeys = function(obj) {\n  for (var k in obj) {\n    self._validateValue(\n      obj[k],\n      k == \"from\" || k == \"to\",\n      \"Validating key \" + k + \" in \" + JSON.stringify(obj) + \". \"\n    );\n  }\n};\nself._validateValue = function(value, onlyCheckNotEmpty, desc) {\n  var err;\n  if (!desc) desc = \"\";\n  if (!value || value === \"\") {\n    err = desc + \"Disallowed undefined value\";\n  } else if (!onlyCheckNotEmpty && !/^[a-zA-Z0-9\\-_ ]+$/.test(value)) {\n    err = desc + \"Invalid value [\" + value + \"]\";\n  }\n  if (err) {\n    console.error(err);\n    throw err;\n  }\n};\n\nexport default self;\n","import { useState } from \"react\";\n\nconst self = {\n  // dataKey -> data object\n  data: {},\n  // dataKey -> react setter callbacks\n  reactSetterCallback: {}\n};\n\nself.get = dataKey => {\n  if (!(dataKey in self.data)) {\n    console.log(\"WARNING: [\" + dataKey + \"] has no default value!\");\n  }\n  //console.log(\"SimpleReactStore.get\", dataKey, self.data[dataKey]);\n  return self.data[dataKey];\n};\n\n// dataKey -> setter\nself.set = (dataKey, value) => {\n  //console.log(\"SimpleReactStore.set\", dataKey, value);\n  self.data[dataKey] = value;\n\n  if (dataKey in self.reactSetterCallback) {\n    //console.log(\"Calling react setter callback\", dataKey);\n    self.reactSetterCallback[dataKey](value);\n  }\n};\n\n// dirty hack to avoid this:\n// React Hook \"useState\" cannot be called inside a callback. React Hooks must be called in a React function component or a custom React Hook function  react-hooks/rules-of-hooks\nconst getReactSetterCallback = dataKey => () => {\n  const [_, _setData] = useState(self.get(dataKey));\n  return _setData;\n};\n\nself.useState = function() {\n  // reset all callback from previous component\n  self.reactSetterCallback = {};\n\n  for (var dataKey of arguments) {\n    // default to current value\n    // trash the react value\n    // save the react state setter\n    console.log(\"Calling react useState\", dataKey);\n    self.reactSetterCallback[dataKey] = getReactSetterCallback(dataKey)();\n  }\n};\n\nself.update = (dataKey, createNewObjectFn) => {\n  self.set(dataKey, createNewObjectFn(self.get(dataKey)));\n};\n\nexport default self;\n","import ReactGlobalState from \"./ReactGlobalState\";\n\nconst self = {\n  FLASHCARDS: \"flashcards\",\n  DRAGGED_FLASHCARD_ID: \"dragged-flashcard-id\",\n  APP_CONFIG: \"app-config\",\n  IS_READY: \"ready\",\n  ERROR: \"error\",\n  FROMTO: \"fromto\",\n  FLASHCARD_ENTRIES: \"flashcard-entries\",\n  FLASHCARDS_ARRAY: \"flashcards-array\",\n\n  ...ReactGlobalState\n};\n\n// default values\nself.set(self.FLASHCARDS, []);\nself.set(self.DRAGGED_FLASHCARD_ID, null);\nself.set(self.APP_CONFIG, {});\nself.set(self.IS_READY, false);\nself.set(self.ERROR, null);\nself.set(self.FLASHCARD_ENTRIES, {});\nself.set(self.FLASHCARDS_ARRAY, null);\n\nexport default self;\n","import flash_store from \"./FlashcardStoreDAO\";\nimport store from \"./FlashcardStore\";\n\nconst self = {};\n\nself.getFlashcardEntries = () => store.get(store.FLASHCARD_ENTRIES);\nself.getFlashcardsArray = () => store.get(store.FLASHCARDS_ARRAY);\n\nself.loadFlashcardEntries = function(flashcardName) {\n  if (flashcardName in self.getFlashcardEntries()) {\n    return Promise.resolve(self.getFlashcardEntries()[flashcardName]);\n  }\n  return flash_store.loadAllFlashcardEntries(flashcardName).then(r => {\n    const entries = r.data;\n    store.update(store.FLASHCARD_ENTRIES, flashcardEntries => {\n      const newFlashcardEntries = {\n        ...flashcardEntries\n      };\n      newFlashcardEntries[flashcardName] = entries;\n      return newFlashcardEntries;\n    });\n    // self.getFlashcardEntries()[flashcardName] = entries;\n    console.log(\"loaded entries\", entries);\n    return entries;\n  });\n};\n\nself.getCachedFlashcardsArray = function() {\n  return new Promise(function(resolve, reject) {\n    if (self.getFlashcardsArray()) return resolve(self.getFlashcardsArray());\n    flash_store\n      .listFlashcards()\n      .then(r => {\n        var arr = r.data;\n        const flashcardsArray = arr.sort(function(a, b) {\n          return a.userdata.name - b.userdata.name;\n        });\n\n        store.set(store.FLASHCARDS_ARRAY, flashcardsArray);\n\n        console.log(\"loaded flashcards array\", flashcardsArray);\n        resolve(flashcardsArray);\n      })\n      .catch(reject);\n  });\n};\n\nself.findFlashCardByName = function(name) {\n  return new Promise(function(resolve, reject) {\n    return self\n      .getCachedFlashcardsArray()\n      .then(flashcards => {\n        for (var i = 0; i < flashcards.length; i++) {\n          if (flashcards[i].userdata.name === name)\n            return resolve(flashcards[i]);\n        }\n        resolve();\n      })\n      .catch(reject);\n  });\n};\n\nself.addFlashcard = function(flashcard) {\n  self.getFlashcardEntries()[flashcard.userdata.name] = [];\n  store.update(store.FLASHCARDS_ARRAY, arr => [...arr, flashcard]);\n  //self.flashcardsArray.push(flashcard);\n};\n\nself.removeFlashcard = function(flashcard) {\n  store.update(store.FLASHCARD_ENTRIES, flashcardEntries => {\n    const newFlashcardEntries = {\n      ...flashcardEntries\n    };\n    delete newFlashcardEntries[flashcard.userdata.name];\n    return newFlashcardEntries;\n  });\n  // delete self.getFlashcardEntries()[flashcard.userdata.name];\n  store.update(store.FLASHCARDS_ARRAY, arr =>\n    arr.filter(function(f, idx) {\n      return f.id !== flashcard.id;\n    })\n  );\n  //self.flashcardsArray = self.flashcardsArray.filter(function(f, idx) {\n  //  return f.id !== flashcard.id;\n  //});\n};\n\nself.deleteAll = function() {\n  store.set(store.FLASHCARD_ENTRIES, {});\n  //self.flashcardEntries = {};\n  store.set(store.FLASHCARDS_ARRAY, []);\n  //self.flashcardsArray = [];\n};\n\nexport default self;\n","import FlashcardService from \"./services/FlashcardService\";\nimport store from \"./services/FlashcardStore\";\n\nconst AllLanguages = require(\"./languages.json\");\n\nconst self = {\n  AllLanguages: AllLanguages\n};\n\nself.from = function() {\n  return self._getById(store.get(store.APP_CONFIG).from).name;\n};\nself.to = function() {\n  return self._getById(store.get(store.APP_CONFIG).to).name;\n};\n\nself._getById = function(id) {\n  if (!(id in AllLanguages))\n    throw new Error(\"Couldn't find language with ID=\" + id);\n  return AllLanguages[id];\n};\n\nexport default self;\n","import React from \"react\";\nimport Form from \"react-bootstrap/Form\";\n\nimport LanguagesService from \"./LanguagesService\";\n\nconst AllLanguages = LanguagesService.AllLanguages;\nconst AllLanguagesKeys = Object.keys(LanguagesService.AllLanguages);\n\nfunction SelectLanguage(props) {\n  function handleChange(e) {\n    props.setValue(e.target.value);\n  }\n\n  return (\n    <Form.Group>\n      <Form.Control as=\"select\" value={props.value} onChange={handleChange}>\n        <option value=\"\">-- {props.title} --</option>\n        {AllLanguagesKeys.map(k => {\n          return (\n            <option key={k} value={k}>\n              {AllLanguages[k].name}\n            </option>\n          );\n        })}\n      </Form.Control>\n    </Form.Group>\n  );\n}\n\nexport default SelectLanguage;\n","import store from \"./services/FlashcardStore\";\n\nconst self = {};\n\nself.shuffleArray = function(array) {\n  var currentIndex = array.length,\n    temporaryValue,\n    randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n};\n\nself.goto = function(props, path) {\n  // console.trace(\"GOTO \" + path);\n  if (props.history) {\n    props.history.push(path);\n  }\n};\nself.gotoFn = function(props, path) {\n  return function() {\n    self.goto(props, path);\n  };\n};\n\nself.handleError = function(e) {\n  console.error(e);\n  store.set(store.IS_READY, true);\n  store.set(store.ERROR, e);\n};\n\nexport default self;\n","import React, { useState } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\n\nimport flash_store from \"./services/FlashcardStoreDAO\";\nimport _OneStore from \"onestore-client-node\";\nimport SelectLanguage from \"./SelectLanguage\";\nimport Utils from \"./Utils\";\nimport store from \"./services/FlashcardStore\";\nimport FlashcardService from \"./services/FlashcardService\";\n\nconst saveButtonStyles = {\n  float: \"right\"\n};\n\nconst formStyles = {\n  marginTop: \"1em\"\n};\n\nfunction Configure(props) {\n  console.log(\"--Configure--\");\n\n  store.useState(store.APP_CONFIG);\n\n  const c = store.get(store.APP_CONFIG);\n  const [fromLanguage, setFromLanguage] = useState(c ? c.from : \"\");\n  const [toLanguage, setToLanguage] = useState(c ? c.to : \"\");\n\n  function saveConfiguration(e) {\n    e.preventDefault();\n    if (!fromLanguage || fromLanguage === \"\")\n      return alert(\"Please select the language you wish to learn!\");\n    if (!toLanguage || toLanguage === \"\")\n      return alert(\n        \"Please select the language you will use in the translations!\"\n      );\n\n    const configuration = { from: fromLanguage, to: toLanguage };\n    flash_store\n      .saveConfiguration(configuration)\n      .then(id => {\n        configuration.id = id;\n        store.set(store.APP_CONFIG, configuration);\n        setFromLanguage(\"\");\n        setToLanguage(\"\");\n        Utils.goto(props, \"/flashcards\");\n      })\n      .catch(Utils.handleError);\n  }\n\n  return (\n    <div className=\"Configure\">\n      <h3>Settings</h3>\n\n      <Form onSubmit={saveConfiguration} style={formStyles}>\n        <Form.Label>Target Language:</Form.Label>\n        <SelectLanguage\n          title=\"New language\"\n          value={fromLanguage}\n          setValue={setFromLanguage}\n        />\n        <Form.Label>Translation Language:</Form.Label>\n        <SelectLanguage\n          title=\"Language use for translation\"\n          value={toLanguage}\n          setValue={setToLanguage}\n        />\n        <Button variant=\"primary\" type=\"submit\" style={saveButtonStyles}>\n          Save\n        </Button>\n      </Form>\n    </div>\n  );\n}\n\nexport default Configure;\n","import React, { useRef } from \"react\";\nimport { withRouter } from \"react-router\";\nimport Utils from \"./Utils\";\nimport { useDrag, useDrop } from \"react-dnd\";\n\nimport { faPlay } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport \"./ListFlashcards.scss\";\n\nimport store from \"./services/FlashcardStore\";\n\nconst FLASHCARD_TYPE = \"FLASHCARD\";\n\nfunction FlashcardListItem(props) {\n  console.log(\"--FlashcardListItem--\");\n  const ref = useRef(null);\n\n  //store.useState(store.DRAGGED_FLASHCARD_ID);\n\n  const getFlashcardEntriesCount = () => {\n    const flashcardEntries = store.get(store.FLASHCARD_ENTRIES);\n    console.log(flashcardEntries);\n    if (props.flashcardId in flashcardEntries) {\n      return flashcardEntries[props.flashcardId].length;\n    }\n    return \"\";\n  };\n\n  const [, drop] = useDrop({\n    accept: FLASHCARD_TYPE,\n\n    drop(item, monitor) {\n      props.onDropFlashcard();\n      store.set(store.DRAGGED_FLASHCARD_ID, null);\n    },\n\n    hover(item, monitor) {\n      if (!ref.current) {\n        return;\n      }\n      const dragIndex = item.index;\n      const hoverIndex = props.index;\n      // Don't replace items with themselves\n      if (dragIndex === hoverIndex) {\n        return;\n      }\n      // Determine rectangle on screen\n      const hoverBoundingRect = ref.current.getBoundingClientRect();\n      // Get vertical middle\n      const hoverMiddleY =\n        (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n      // Determine mouse position\n      const clientOffset = monitor.getClientOffset();\n      // Get pixels to the top\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top;\n      // Only perform the move when the mouse has crossed half of the items height\n      // When dragging downwards, only move when the cursor is below 50%\n      // When dragging upwards, only move when the cursor is above 50%\n      // Dragging downwards\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n        return;\n      }\n      // Dragging upwards\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n        return;\n      }\n      // Time to actually perform the action\n      props.moveFlashcard(dragIndex, hoverIndex);\n      // Note: we're mutating the monitor item here!\n      // Generally it's better to avoid mutations,\n      // but it's good here for the sake of performance\n      // to avoid expensive index searches.\n      item.index = hoverIndex;\n    }\n  });\n\n  let [{ isDragging }, drag] = useDrag({\n    item: { type: FLASHCARD_TYPE, id: props.flashcardId, index: props.index },\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    })\n  });\n  //setDragging(isDragging);\n\n  drag(drop(ref));\n\n  let onMouseDownTimeout = null;\n\n  const onMouseDown = id => () => {\n    onMouseDownTimeout = setTimeout(() => {\n      console.log(\"onMouseDown -> setDraggedId to \" + id);\n      store.set(store.DRAGGED_FLASHCARD_ID, id);\n    }, 100);\n  };\n  const onMouseUp = id => () => {\n    console.log(\"onMouseUp -> setDraggedId to null\");\n    clearInterval(onMouseDownTimeout);\n    store.set(store.DRAGGED_FLASHCARD_ID, null);\n  };\n\n  const classNames = [];\n  if (store.get(store.DRAGGED_FLASHCARD_ID) == props.flashcardId) {\n    classNames.push(\"flashcardDragged\");\n  }\n  if (store.get(store.DRAGGED_FLASHCARD_ID) === null) {\n    classNames.push(\"noOngoingDrag\");\n  }\n\n  return (\n    <li\n      ref={ref}\n      key={props.flashcardId}\n      onClick={Utils.gotoFn(props, `/flashcards/${props.flashcardName}`)}\n      className={classNames}\n      onMouseDown={onMouseDown(props.flashcardId)}\n      onMouseUp={onMouseUp(props.flashcardId)}\n      onTouchStart={onMouseDown(props.flashcardId)}\n      onTouchEnd={onMouseUp(props.flashcardId)}\n    >\n      <span className=\"fcItemName\">\n        {props.flashcardName} {getFlashcardEntriesCount()}\n      </span>\n      <span className=\"fcItemIcon\">\n        <FontAwesomeIcon icon={faPlay} size=\"sm\" className=\"faIcon\" />\n      </span>\n    </li>\n  );\n}\n\nexport default withRouter(FlashcardListItem);\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport FormControl from \"react-bootstrap/FormControl\";\nimport Form from \"react-bootstrap/Form\";\nimport { withRouter } from \"react-router\";\nimport FlashcardService from \"./services/FlashcardService\";\nimport FlashcardListItem from \"./FlashcardListItem\";\nimport \"./ListFlashcards.scss\";\nimport { DndProvider } from \"react-dnd\";\nimport RingLoader from \"react-spinners/RingLoader\";\nimport Utils from \"./Utils\";\n\nimport HTML5Backend from \"react-dnd-html5-backend\";\nimport TouchBackend from \"react-dnd-touch-backend\";\nimport MultiBackend, { TouchTransition } from \"react-dnd-multi-backend\";\n\nimport update from \"immutability-helper\";\nimport flash_store from \"./services/FlashcardStoreDAO\";\n\nimport store from \"./services/FlashcardStore\";\n\nfunction ListFlashcards(props) {\n  console.log(\"--ListFlashcards--\");\n\n  store.useState(store.FLASHCARDS, store.DRAGGED_FLASHCARD_ID);\n\n  const [loading, setLoading] = useState(true);\n  const [newFlashcardName, setNewFlashcardName] = useState(\"\");\n  const [showDeleteAllConfirm, setShowDeleteAllConfirm] = useState(false);\n\n  let orderConfig;\n\n  useEffect(() => {\n    loadFlashcards();\n  }, []); //only once\n\n  function loadFlashcards() {\n    FlashcardService.getCachedFlashcardsArray()\n      .then(arr => {\n        console.log(\"cached FC => \", arr);\n        orderFlashcard([...arr]); // copy\n      })\n      .catch(Utils.handleError);\n  }\n\n  function orderFlashcard(_flashcards) {\n    console.log(\"fcs\", _flashcards);\n    flash_store\n      .getFlashcardsOrdering()\n      .then(_orderConfig => {\n        orderConfig = _orderConfig ? _orderConfig.userdata : [];\n        console.log(\"loaded order\", orderConfig);\n\n        if (orderConfig == null) {\n          orderConfig = [];\n        }\n\n        const getOrder = fid => orderConfig.findIndex(x => x.id === fid);\n        _flashcards = _flashcards.sort((a, b) => {\n          return getOrder(a.id) - getOrder(b.id);\n        });\n\n        store.set(store.FLASHCARDS, _flashcards);\n        setLoading(false);\n\n        if (orderingChanged()) {\n          saveOrdering();\n        }\n      })\n      .catch(Utils.handleError);\n  }\n\n  function orderingChanged() {\n    for (var i in store.get(store.FLASHCARDS)) {\n      if (\n        !orderConfig[i] ||\n        orderConfig[i].id !== store.get(store.FLASHCARDS)[i].id\n      ) {\n        return true;\n      }\n    }\n  }\n\n  function saveOrdering() {\n    orderConfig = store.get(store.FLASHCARDS).map(f => {\n      return { id: f.id, name: f.userdata.name };\n    });\n\n    console.log(\"SAve order\", orderConfig);\n    flash_store\n      .saveFlashcardsOrdering(orderConfig)\n      .then()\n      .catch(Utils.handleError);\n  }\n\n  function addFlashcard(e) {\n    e.preventDefault();\n\n    FlashcardService.findFlashCardByName(newFlashcardName)\n      .then(f => {\n        if (f) {\n          alert('Flashcard \"' + newFlashcardName + '\" already exist');\n        } else {\n          const userdata = { name: newFlashcardName };\n          flash_store\n            .addFlashcard(userdata)\n            .then(id => {\n              var flashcard = { id: id, userdata: userdata };\n              FlashcardService.addFlashcard(flashcard);\n              store.set(store.FLASHCARDS, [\n                flashcard,\n                ...store.get(store.FLASHCARDS)\n              ]);\n              setNewFlashcardName(\"\");\n              saveOrdering();\n              Utils.goto(props, \"/flashcards/\" + newFlashcardName);\n            })\n            .catch(Utils.handleError);\n        }\n      })\n      .catch(Utils.handleError);\n\n    return false;\n  }\n\n  function handleChange(e) {\n    setNewFlashcardName(e.target.value);\n  }\n\n  function confirmDeleteAll() {\n    console.log(\"show\");\n    setShowDeleteAllConfirm(true);\n  }\n  function closeDeleteAllConfirm() {\n    console.log(\"hide\");\n    setShowDeleteAllConfirm(false);\n  }\n\n  function deleteAll() {\n    console.log(\"DELETE ALL!\");\n    closeDeleteAllConfirm();\n    flash_store\n      .deleteAll()\n      .then(() => {\n        FlashcardService.deleteAll();\n        store.set(store.FLASHCARDS, []);\n        setNewFlashcardName(\"\");\n        saveOrdering();\n      })\n      .catch(Utils.handleError);\n  }\n\n  const moveFlashcard = useCallback(\n    (dragIndex, hoverIndex) => {\n      const dragFlashcard = store.get(store.FLASHCARDS)[dragIndex];\n      store.set(\n        store.FLASHCARDS,\n        update(store.get(store.FLASHCARDS), {\n          $splice: [[dragIndex, 1], [hoverIndex, 0, dragFlashcard]]\n        })\n      );\n    },\n    [store.get(store.FLASHCARDS)]\n  );\n\n  const HTML5toTouch = {\n    backends: [\n      {\n        backend: HTML5Backend\n      },\n      {\n        backend: TouchBackend,\n        preview: true,\n        transition: TouchTransition,\n        options: {\n          delayTouchStart: 100\n        }\n      }\n    ]\n  };\n\n  const spinnerCss = {\n    margin: \"3em auto\"\n  };\n\n  return (\n    <React.Fragment>\n      <h3>Flashcards</h3>\n\n      <RingLoader\n        size={150}\n        color={\"#ec82ae\"}\n        loading={loading}\n        css={spinnerCss}\n      />\n\n      <div className=\"fcRow ListFlashcards\">\n        {\" \"}\n        <DndProvider backend={MultiBackend} options={HTML5toTouch}>\n          <ul className=\"flashcards\">\n            {store.get(store.FLASHCARDS).map((f, index) => {\n              return (\n                <FlashcardListItem\n                  key={f.id}\n                  index={index}\n                  flashcardId={f.id}\n                  flashcardName={f.userdata.name}\n                  moveFlashcard={moveFlashcard}\n                  onDropFlashcard={saveOrdering}\n                />\n              );\n            })}\n          </ul>\n        </DndProvider>\n        <div className=\"fcRow\">\n          <form onSubmit={addFlashcard}>\n            <Form.Label>New Flashcard</Form.Label>\n            <FormControl\n              value={newFlashcardName}\n              onChange={handleChange}\n              placeholder=\"Flashcard name\"\n              aria-label=\"Flashcard name\"\n              aria-describedby=\"basic-addon2\"\n            />\n            <Button type=\"submit\" style={{ float: \"right\" }}>\n              Create\n            </Button>\n          </form>\n        </div>\n      </div>\n\n      <div className=\"deleteAllRow\">\n        {!showDeleteAllConfirm && (\n          <Button type=\"button\" variant=\"danger\" onClick={confirmDeleteAll}>\n            Delete All!\n          </Button>\n        )}\n        {showDeleteAllConfirm && (\n          <>\n            <Button\n              type=\"button\"\n              variant=\"secondary\"\n              onClick={closeDeleteAllConfirm}\n            >\n              Cancel\n            </Button>\n            <Button type=\"button\" variant=\"danger\" onClick={deleteAll}>\n              Yes, Delete All!\n            </Button>\n          </>\n        )}\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default withRouter(ListFlashcards);\n","import React from \"react\";\nimport { withRouter } from \"react-router\";\nimport Utils from \"./Utils\";\n\nimport { faPlay } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nfunction PageTitle(props) {\n  function back() {\n    Utils.goto(props, props.backLink);\n  }\n\n  return (\n    <h3>\n      {props.backLink ? (\n        <div onClick={back} className=\"l-icon-action\">\n          <FontAwesomeIcon\n            icon={faPlay}\n            rotation={180}\n            style={{ marginRight: \".5em\" }}\n          />\n          {props.title}\n        </div>\n      ) : (\n        <>{props.title}</>\n      )}\n    </h3>\n  );\n}\n\nexport default withRouter(PageTitle);\n","import React, { useState, useEffect } from \"react\";\nimport flash_store from \"./services/FlashcardStoreDAO\";\nimport _OneStore from \"onestore-client-node\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport { withRouter } from \"react-router\";\nimport FlashcardService from \"./services/FlashcardService\";\nimport PageTitle from \"./PageTitle\";\nimport Utils from \"./Utils\";\nimport LanguagesService from \"./LanguagesService\";\nimport RingLoader from \"react-spinners/RingLoader\";\n\nimport { Table, Thead, Tbody, Tr, Th, Td } from \"react-super-responsive-table\";\nimport \"react-super-responsive-table/dist/SuperResponsiveTableStyle.css\";\n\nimport {\n  faPlay,\n  faTrashAlt,\n  faArrowRight\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport \"./Flashcard.scss\";\nimport store from \"./services/FlashcardStore\";\n\nfunction Flashcard(props) {\n  console.log(\"--Flashcard--\");\n  const flashcardName = props.match.params.flashcard_name;\n\n  const [loading, setLoading] = useState(true);\n  const [flashcardEntries, setflashcardEntries] = useState([]);\n  const [newEntryFrom, setNewEntryFrom] = useState(\"\");\n  const [newEntryTo, setNewEntryTo] = useState(\"\");\n  const [newEntryPronounciation, setNewEntryPronounciation] = useState(\"\");\n  const [showDeleteAllConfirm, setShowDeleteAllConfirm] = useState(false);\n\n  useEffect(() => {\n    FlashcardService.loadFlashcardEntries(flashcardName)\n      .then(entries => {\n        console.log(entries);\n        if (entries) setflashcardEntries([...entries]);\n        else setflashcardEntries([]);\n        setLoading(false);\n      })\n      .catch(Utils.handleError);\n  }, []); // only once\n\n  function addFlashcardEntry(e) {\n    e.preventDefault();\n\n    const userdata = {\n      from: newEntryFrom,\n      to: newEntryTo,\n      p: newEntryPronounciation\n    };\n    flash_store\n      .addFlashcardEntry(flashcardName, userdata)\n      .then(id => {\n        var entry = { id: id, userdata: userdata };\n        setflashcardEntries([...flashcardEntries, entry]);\n        store.update(store.FLASHCARD_ENTRIES, entries => {\n          const newEntries = { ...entries };\n          if (!flashcardName in newEntries) {\n            newEntries[flashcardName] = [];\n          }\n          newEntries[flashcardName].push(entry);\n          return newEntries;\n        });\n        //FlashcardService.flashcardEntries[flashcardName].push(entry);\n        setNewEntryFrom(\"\");\n        setNewEntryTo(\"\");\n        setNewEntryPronounciation(\"\");\n      })\n      .catch(Utils.handleError);\n    return false;\n  }\n\n  function handleFromChange(e) {\n    setNewEntryFrom(e.target.value);\n  }\n  function handleToChange(e) {\n    setNewEntryTo(e.target.value);\n  }\n  function handlePronounciationChange(e) {\n    setNewEntryPronounciation(e.target.value);\n  }\n\n  function startQuizz(fromto) {\n    return () => {\n      if (flashcardEntries.length == 0) {\n        return alert(\"You must define a few entries before starting!\");\n      }\n      store.set(store.fromto, fromto);\n      Utils.goto(props, \"/flashcards/\" + flashcardName + \"/play\");\n    };\n  }\n\n  function deleteEntry(id) {\n    return () => {\n      flash_store\n        .deleteFlashcardEntry(flashcardName, id)\n        .then(r => {\n          var newEntries = flashcardEntries.filter(function(entry) {\n            return entry.id !== id;\n          });\n          store.set(store.FLASHCARD_ENTRIES, flashcardEntries => {\n            const newFlashcardEntries = { ...flashcardEntries };\n            newFlashcardEntries[flashcardName] = newEntries;\n            return newFlashcardEntries;\n          });\n          setflashcardEntries(newEntries);\n        })\n        .catch(Utils.handleError);\n    };\n  }\n\n  function confirmDeleteAll() {\n    console.log(\"show\");\n    setShowDeleteAllConfirm(true);\n  }\n  function closeDeleteAllConfirm() {\n    console.log(\"hide\");\n    setShowDeleteAllConfirm(false);\n  }\n\n  function deleteAll() {\n    console.log(\"DELETE ALL!\");\n    closeDeleteAllConfirm();\n\n    FlashcardService.findFlashCardByName(flashcardName)\n      .then(f => {\n        if (f) {\n          flash_store\n            .deleteFlashcard(f)\n            .then(r => {\n              FlashcardService.removeFlashcard(f);\n              Utils.goto(props, \"/flashcards\");\n            })\n            .catch(Utils.handleError);\n        } else {\n          alert(\"Flashcard already deleted? \" + flashcardName);\n        }\n      })\n      .catch(Utils.handleError);\n  }\n\n  const spinnerCss = {\n    margin: \"3em auto\"\n  };\n\n  return (\n    <React.Fragment>\n      <PageTitle title={flashcardName} backLink={\"/flashcards\"} />\n\n      <div className=\"fcRow row1\">\n        <Button\n          className=\"quizz_button quizz_button_left\"\n          onClick={startQuizz(false)}\n        >\n          <FontAwesomeIcon icon={faPlay} />\n          <br />\n          {LanguagesService.to()}{\" \"}\n          <FontAwesomeIcon icon={faArrowRight} size=\"sm\" />{\" \"}\n          {LanguagesService.from()}\n        </Button>\n\n        <Button\n          className=\"quizz_button quizz_button_right\"\n          onClick={startQuizz(true)}\n        >\n          <FontAwesomeIcon icon={faPlay} />\n          <br />\n          {LanguagesService.from()}{\" \"}\n          <FontAwesomeIcon icon={faArrowRight} size=\"sm\" />{\" \"}\n          {LanguagesService.to()}\n        </Button>\n      </div>\n\n      <div className=\"fcRow row2\">\n        <Form onSubmit={addFlashcardEntry} className=\"add-entry-form\">\n          <Form.Label>New Entry</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder={LanguagesService.from()}\n            value={newEntryFrom}\n            onChange={handleFromChange}\n          />\n          <Form.Control\n            type=\"text\"\n            placeholder={LanguagesService.to()}\n            value={newEntryTo}\n            onChange={handleToChange}\n          />\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Pronounciation\"\n            value={newEntryPronounciation}\n            onChange={handlePronounciationChange}\n          />\n          <Button type=\"submit\">Add</Button>\n        </Form>\n      </div>\n\n      <div className=\"fcRow row3\">\n        <label>Entries</label>\n\n        <RingLoader\n          size={150}\n          color={\"#ec82ae\"}\n          loading={loading}\n          css={spinnerCss}\n        />\n\n        <div className=\"ListflashcardEntries\">\n          {flashcardEntries.length == 0 ? (\n            <>No entries yet</>\n          ) : (\n            <Table>\n              <Thead>\n                <Tr>\n                  <Th>{LanguagesService.from()}</Th>\n                  <Th>{LanguagesService.to()}</Th>\n                  <Th>Pronouciation</Th>\n                  <Th></Th>\n                </Tr>\n              </Thead>\n              <Tbody>\n                {flashcardEntries.map(e => {\n                  return (\n                    <Tr key={e.id}>\n                      <Td>{e.userdata.from}</Td>\n                      <Td>{e.userdata.to}</Td>\n                      <Td>{e.userdata.p}</Td>\n                      <Td className=\"deleteIcon\">\n                        <FontAwesomeIcon\n                          icon={faTrashAlt}\n                          className=\"l-icon-action\"\n                          onClick={deleteEntry(e.id)}\n                        />\n                      </Td>\n                    </Tr>\n                  );\n                })}\n              </Tbody>\n            </Table>\n          )}\n        </div>\n      </div>\n\n      <div className=\"deleteAllRow\">\n        {!showDeleteAllConfirm && (\n          <Button type=\"button\" variant=\"danger\" onClick={confirmDeleteAll}>\n            Delete Flashcard!\n          </Button>\n        )}\n        {showDeleteAllConfirm && (\n          <>\n            <Button\n              type=\"button\"\n              variant=\"secondary\"\n              onClick={closeDeleteAllConfirm}\n            >\n              Cancel\n            </Button>\n            <Button type=\"button\" variant=\"danger\" onClick={deleteAll}>\n              Yes, Delete Flashcard!\n            </Button>\n          </>\n        )}\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default withRouter(Flashcard);\n","import React from \"react\";\nimport flash_store from \"./services/FlashcardStoreDAO\";\nimport _OneStore from \"onestore-client-node\";\nimport Button from \"react-bootstrap/Button\";\n\nfunction OneStoreLogin(props) {\n  function login() {\n    flash_store.onestore.startAuthenticationProcedure();\n  }\n\n  return (\n    <div style={{ marginTop: \"1em\" }}>\n      <p>\n        This app uses\n        <img\n          class=\"onestore-icon\"\n          src=\"https://www.onestore.io/static/favicon-32x32.png\"\n        />\n        <a class=\"onestore-link\" href=\"https://www.onestore.io\">\n          onestore.io\n        </a>{\" \"}\n        to store data.\n      </p>\n      <p class=\"choices\">If you already have an account:</p>\n      <ul>\n        <li>\n          <a onClick={login}>\n            <Button size=\"sm\">Login</Button>\n          </a>\n          , and then\n        </li>\n        <li>select the namespace that contains your flashcards</li>\n      </ul>\n      <p class=\"choices\">If you don't have an account:</p>\n      <ul>\n        <li>\n          <a onClick={login}>\n            <Button size=\"sm\">Create an account</Button>\n          </a>\n          , and then\n        </li>\n        <li>\n          create a new namespace for your flashcards, for example\n          \"Farsi-English\"\n        </li>\n      </ul>\n    </div>\n  );\n}\n\nexport default OneStoreLogin;\n","import React from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport flash_store from \"./services/FlashcardStoreDAO\";\nimport { faSignOutAlt, faSlidersH } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport store from \"./services/FlashcardStore\";\n\nfunction logout() {\n  flash_store.onestore.deauthenticate();\n}\n\nconst styles = {\n  padding: \"15px 10px 0 0\",\n  position: \"absolute\",\n  right: 0\n};\n\nconst linkStyle = {\n  marginLeft: \"1em\",\n  color: \"#333\"\n};\n\nfunction Header(props) {\n  console.log(\"--Header--\");\n  store.useState(store.APP_CONFIG);\n\n  return (\n    <div style={styles}>\n      {props.isAuthenticated ? (\n        <>\n          <Link to=\"/configure\" style={linkStyle}>\n            <FontAwesomeIcon icon={faSlidersH} className=\"l-icon-action\" />\n          </Link>\n          <a onClick={logout} className=\"headerLink\" style={linkStyle}>\n            <FontAwesomeIcon\n              icon={faSignOutAlt}\n              className=\"l-icon-action\"\n              size=\"1x\"\n            />\n          </a>\n        </>\n      ) : (\n        <></>\n      )}\n    </div>\n  );\n}\n\nexport default withRouter(Header);\n","import React from \"react\";\nimport PageTitle from \"./PageTitle\";\n\nexport default function Error(props) {\n  console.log(\"Error()\");\n\n  function errorMessage() {\n    const e = props.error;\n    if (!e) return \"(No error message)\";\n    if (e instanceof String) return e;\n    return JSON.stringify(e);\n  }\n\n  return (\n    <>\n      <div style={{ margin: \"5em auto\", color: \"#ca0e0e\" }}>\n        Oh sh*t, something bad happened :o(\n        <br />\n        {errorMessage()}\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\n\nconst styles = {\n  marginTop: \"2em\",\n  textAlign: \"center\"\n};\n\nexport default function(props) {\n  console.log(\"404\");\n  return <div style={styles}>404</div>;\n}\n","import React, { useState, useRef, useEffect } from \"react\";\nimport { withRouter } from \"react-router\";\nimport FlashcardService from \"./services/FlashcardService\";\nimport PageTitle from \"./PageTitle\";\nimport Utils from \"./Utils\";\n\nimport \"./PlayFashcard.scss\";\nimport store from \"./services/FlashcardStore\";\n\nvar flashcardEntries;\nvar index = 0;\n\nfunction PlayFlashcard(props) {\n  const flashcardName = props.match.params.flashcard_name;\n\n  const [question, setQuestion] = useState(\"\");\n  const [answer, setAnswer] = useState(\"\");\n  const [pronouciation, setPronouciation] = useState(\"\");\n  const [showAnswer, setShowAnswer] = useState(false);\n\n  useEffect(() => {\n    FlashcardService.loadFlashcardEntries(flashcardName)\n      .then(loadQuizz)\n      .catch(Utils.handleError);\n  }, []); // only once\n\n  function loadQuizz(entries) {\n    console.log(\"Loaded \" + entries.length + \" entries.\");\n    flashcardEntries = Utils.shuffleArray(entries);\n    renderCurrentEntry();\n  }\n\n  function next() {\n    if (showAnswer) index++;\n    setShowAnswer(!showAnswer);\n    renderCurrentEntry();\n  }\n\n  function renderCurrentEntry() {\n    console.log(\"rendering current entry \", index, showAnswer);\n    const entry = flashcardEntries[index % flashcardEntries.length];\n    const fromto = store.get(store.FROMTO);\n    setQuestion(fromto ? entry.userdata.from : entry.userdata.to);\n    setAnswer(fromto ? entry.userdata.to : entry.userdata.from);\n    setPronouciation(entry.userdata.p);\n  }\n\n  function answerStyle() {\n    return { opacity: showAnswer ? \"1\" : \"0\" };\n  }\n\n  return (\n    <React.Fragment>\n      <PageTitle\n        title={flashcardName}\n        backLink={\"/flashcards/\" + flashcardName}\n      />\n      <div className=\"quizz_container_1\" onClick={next}>\n        <div className=\"quizz_container_2\">\n          <div className=\"quizz_container_3\">\n            <div className=\"question\">{question}</div>\n            <div className=\"clearfix\"></div>\n            <div className=\"answer\" style={answerStyle()}>\n              {answer}\n            </div>\n            <div className=\"clearfix\"></div>\n            <div className=\"pronounciation\" style={answerStyle()}>\n              {pronouciation}\n            </div>\n          </div>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default withRouter(PlayFlashcard);\n","import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\n\nimport flash_store from \"./services/FlashcardStoreDAO\";\nimport _OneStore from \"onestore-client-node\";\nimport Configure from \"./Configure\";\nimport ListFlashcards from \"./ListFlashcards\";\nimport Flashcard from \"./Flashcard\";\nimport OneStoreLogin from \"./OneStoreLogin\";\nimport Header from \"./Header\";\nimport FlashcardService from \"./services/FlashcardService\";\nimport Error from \"./Error\";\nimport NotFound from \"./NotFound\";\nimport PlayFlashcard from \"./PlayFlashcard\";\nimport store from \"./services/FlashcardStore\";\nimport Utils from \"./Utils\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.scss\";\nimport \"./AppCustom.scss\";\n\nfunction App() {\n  console.log(\"--FlashcardListItem--\");\n\n  store.useState(store.APP_CONFIG, store.IS_READY, store.ERROR);\n\n  const [authenticated, setAuthenticated] = useState(false);\n\n  useEffect(() => {\n    flash_store.load(auth => {\n      setAuthenticated(auth);\n      if (auth) {\n        flash_store\n          .getConfiguration()\n          .then(c => {\n            console.log(\"configuration received:\");\n            console.log(c);\n            store.set(store.APP_CONFIG, c ? c.userdata : null);\n            store.set(store.IS_READY, true);\n          })\n          .catch(Utils.handleError);\n      } else {\n        store.set(store.IS_READY, true);\n      }\n    });\n  }, []); // run only once\n\n  function renderMe() {\n    if (store.get(store.ERROR)) return <Error error={store.get(store.ERROR)} />;\n    if (!authenticated) return <OneStoreLogin />;\n    if (!store.get(store.APP_CONFIG)) return <Configure />;\n    return (\n      <>\n        <Switch>\n          <Route exact path=\"/configure\" component={Configure} />\n          <Route exact path=\"/flashcards\" component={ListFlashcards} />\n          <Route\n            exact\n            path=\"/flashcards/:flashcard_name\"\n            component={Flashcard}\n          />\n          <Route\n            exact\n            path=\"/flashcards/:flashcard_name/play\"\n            component={PlayFlashcard}\n          />\n          <Route exact path=\"/\" component={ListFlashcards} />\n          <Route path=\"/\" component={NotFound} />\n        </Switch>\n      </>\n    );\n  }\n\n  return (\n    <div className=\"App\">\n      {store.get(store.IS_READY) ? (\n        <BrowserRouter basename={`${process.env.PUBLIC_URL}`}>\n          <Header isAuthenticated={authenticated} />\n          <div className=\"content-fullpage\">{renderMe()}</div>\n        </BrowserRouter>\n      ) : (\n        <>Loading...</>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}