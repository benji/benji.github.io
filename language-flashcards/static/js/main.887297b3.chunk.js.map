{"version":3,"sources":["services/FlashcardStoreDAO.js","services/ReactGlobalState.js","services/FlashcardStore.js","services/FlashcardService.js","LanguagesService.js","SelectLanguage.js","Utils.js","Configure.js","FlashcardListItem.js","common/Spinner.js","ListFlashcards.js","PageTitle.js","Flashcard.js","OneStoreLogin.js","Header.js","Error.js","NotFound.js","PlayFlashcard.js","App.js","serviceWorker.js","index.js"],"names":["self","onAuthenticationChanged","onestore","_OneStore","Client","jsonify","authMethod","isAuthenticated","c","authenticationCallbacks","indexOf","push","getConfigurationItem","_uuid","_getP","catch","_catchHttpError","e","Promise","reject","Error","saveConfigurationItem","configuration","_updateP","getConfiguration","saveConfiguration","getFlashcardsOrdering","saveFlashcardsOrdering","listFlashcards","_listP","limit","maxRequests","addFlashcard","flashcard","_validateKeys","_createP","deleteFlashcard","resolve","_validateNames","userdata","name","loadAllFlashcardEntries","then","r","entries","data","console","log","length","promises","i","id","deleteFlashcardEntry","all","_removeP","addFlashcardEntry","flashcardName","entry","_getFlashcardsEntriesStore","deleteAll","flashcards","JSON","stringify","util","promisify","get","bind","list","create","update","remove","status","values","_validateValue","obj","k","value","onlyCheckNotEmpty","desc","err","test","error","reactSetterCallbacks","componentIdCounter","dataKey","callbacks","callback","getReactSetterCallback","useState","removeCallbackOnUnmount","reactSetterCallback","useEffect","removeReactSetterCallback","index","splice","arguments","createNewObjectFn","set","FLASHCARDS","DRAGGED_FLASHCARD_ID","APP_CONFIG","IS_READY","ERROR","FROMTO","FLASHCARD_ENTRIES","FLASHCARDS_ARRAY","AUTHENTICATED","AUTHENTICATING","ReactGlobalState","store","getFlashcardEntries","flash_store","flashcardEntries","newFlashcardEntries","getFlashcardsArray","flashcardsArray","sort","a","b","getCachedFlashcardsArray","arr","filter","f","idx","AllLanguages","require","_getById","from","to","LanguagesService","AllLanguagesKeys","Object","keys","SelectLanguage","props","Form","Group","Control","as","onChange","setValue","target","title","map","key","array","temporaryValue","randomIndex","currentIndex","Math","floor","random","path","history","goto","saveButtonStyles","float","formStyles","marginTop","Configure","fromLanguage","setFromLanguage","toLanguage","setToLanguage","className","onSubmit","preventDefault","alert","Utils","handleError","style","Label","Button","variant","type","FLASHCARD_TYPE","withRouter","ref","useRef","useDrop","accept","drop","item","monitor","onDropFlashcard","hover","current","dragIndex","hoverIndex","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","hoverClientY","getClientOffset","y","moveFlashcard","useDrag","flashcardId","collect","isDragging","drag","onMouseDownTimeout","onMouseDown","setTimeout","onMouseUp","clearInterval","classNames","onClick","gotoFn","onTouchStart","onTouchEnd","getFlashcardEntriesCount","icon","faPlay","size","Spinner","color","loading","css","margin","display","orderConfig","setLoading","newFlashcardName","setNewFlashcardName","showDeleteAllConfirm","setShowDeleteAllConfirm","saveOrdering","closeDeleteAllConfirm","FlashcardService","_flashcards","_orderConfig","getOrder","fid","findIndex","x","orderingChanged","useCallback","dragFlashcard","$splice","HTML5toTouch","backends","backend","HTML5Backend","TouchBackend","preview","transition","TouchTransition","options","delayTouchStart","Fragment","DndProvider","MultiBackend","findFlashCardByName","FormControl","placeholder","aria-label","aria-describedby","backLink","rotation","marginRight","match","params","flashcard_name","setflashcardEntries","newEntryFrom","setNewEntryFrom","newEntryTo","setNewEntryTo","newEntryPronounciation","setNewEntryPronounciation","startQuizz","fromto","loadFlashcardEntries","faArrowRight","p","newEntries","faTrashAlt","removeFlashcard","OneStoreLogin","login","startAuthenticationProcedure","READY","class","src","href","logout","deauthenticate","styles","padding","position","right","linkStyle","marginLeft","faSlidersH","faSignOutAlt","String","errorMessage","textAlign","question","setQuestion","answer","setAnswer","pronouciation","setPronouciation","showAnswer","setShowAnswer","loadQuizz","shuffleArray","renderCurrentEntry","answerStyle","opacity","App","load","auth","basename","process","exact","component","ListFlashcards","Flashcard","PlayFlashcard","NotFound","Boolean","window","location","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.887297b3.chunk.js","sourcesContent":["import util from \"util\";\nimport _OneStore from \"onestore-client-node\";\n\nconst store_configuration = \"Configuration\";\nconst store_flashcards = \"Flashcards\";\n\nconst self = {};\n\nself.load = function(onAuthenticationChanged) {\n  self.onestore = new _OneStore.Client({\n    jsonify: true,\n    //widgetElementId: \"onestore-widget-container\",\n    authMethod: \"popup.auto\",\n    onAuthenticationChanged: onAuthenticationChanged\n  });\n};\n\nself.isAuthenticated = function() {\n  return self.onestore && self.onestore.isAuthenticated();\n};\n\nself.registerAuthenticationCallback = function(c) {\n  if (self.authenticationCallbacks.indexOf(c) < 0)\n    self.authenticationCallbacks.push(c);\n};\n\nconst uuid_configuration_settings = \"00000000-0000-0000-0000-000000000000\";\nconst uuid_configuration_flashcards_order =\n  \"00000000-0000-0000-0000-000000000001\";\n\nself.getConfigurationItem = _uuid => () => {\n  try {\n    return self\n      ._getP()(store_configuration, _uuid)\n      .catch(self._catchHttpError);\n  } catch (e) {\n    return Promise.reject(new Error(e));\n  }\n};\n\nself.saveConfigurationItem = _uuid => configuration => {\n  try {\n    return self._updateP()(store_configuration, _uuid, configuration);\n  } catch (e) {\n    return Promise.reject(new Error(e));\n  }\n};\n\nself.getConfiguration = self.getConfigurationItem(uuid_configuration_settings);\nself.saveConfiguration = self.saveConfigurationItem(\n  uuid_configuration_settings\n);\n\nself.getFlashcardsOrdering = self.getConfigurationItem(\n  uuid_configuration_flashcards_order\n);\nself.saveFlashcardsOrdering = self.saveConfigurationItem(\n  uuid_configuration_flashcards_order\n);\n\nself.listFlashcards = function() {\n  try {\n    var opts = { limit: 1000, maxRequests: 20 };\n    return self._listP()(store_flashcards, opts);\n  } catch (e) {\n    return Promise.reject(new Error(e));\n  }\n};\n\nself.addFlashcard = function(flashcard) {\n  try {\n    self._validateKeys(flashcard);\n    return self._createP()(store_flashcards, flashcard);\n  } catch (e) {\n    return Promise.reject(new Error(e));\n  }\n};\n\nself.deleteFlashcard = function(flashcard) {\n  return new Promise(function(resolve, reject) {\n    try {\n      self._validateNames([flashcard.userdata.name]);\n\n      self.loadAllFlashcardEntries(flashcard.userdata.name).then(r => {\n        const entries = r.data;\n        console.log(\n          \"Got \" +\n            entries.length +\n            \" entries for flashcard \" +\n            flashcard.userdata.name\n        );\n        var promises = [];\n        for (var i = 0; i < entries.length; i++) {\n          const e = entries[i];\n          console.log(\n            \"Schedule flashcard \" +\n              flashcard.userdata.name +\n              \" entry \" +\n              e.id +\n              \" for deletion\"\n          );\n          promises.push(\n            self.deleteFlashcardEntry(flashcard.userdata.name, e.id)\n          );\n        }\n        Promise.all(promises)\n          .then(() => {\n            console.log(\n              \"Flashcard \" + flashcard.userdata.name + \" will now be removed...\"\n            );\n            self\n              ._removeP()(store_flashcards, flashcard.id)\n              .then(resolve)\n              .catch(reject);\n          })\n          .catch(reject);\n      });\n    } catch (e) {\n      reject(e);\n    }\n  });\n};\n\nself.addFlashcardEntry = function(flashcardName, entry) {\n  try {\n    self._validateNames([flashcardName]);\n    return self._createP()(\n      self._getFlashcardsEntriesStore(flashcardName),\n      entry\n    );\n  } catch (e) {\n    return Promise.reject(new Error(e));\n  }\n};\n\nself.deleteFlashcardEntry = function(flashcardName, id) {\n  try {\n    self._validateNames([flashcardName, id]);\n\n    return self._removeP()(self._getFlashcardsEntriesStore(flashcardName), id);\n  } catch (e) {\n    return Promise.reject(new Error(e));\n  }\n};\n\nself.loadAllFlashcardEntries = function(flashcardName) {\n  try {\n    self._validateNames([flashcardName]);\n    var opts = { limit: 1000, maxRequests: 20 };\n    return self._listP()(self._getFlashcardsEntriesStore(flashcardName), opts);\n  } catch (e) {\n    return Promise.reject(new Error(e));\n  }\n};\n\nself.deleteAll = function() {\n  return new Promise(function(resolve, reject) {\n    self\n      .listFlashcards()\n      .then(r => {\n        const flashcards = r.data;\n        console.log(\"Got \" + flashcards.length + \" flashcards.\");\n        var promises = [];\n        for (var i = 0; i < flashcards.length; i++) {\n          const flashcard = flashcards[i];\n          console.log(\n            \"Schedule flashcard \" + JSON.stringify(flashcard) + \" for deletion\"\n          );\n          promises.push(self.deleteFlashcard(flashcard));\n        }\n        Promise.all(promises)\n          .then(resolve)\n          .catch(reject);\n      })\n      .catch(reject);\n  });\n};\n\n/* PRIVATE */\nself._getFlashcardsEntriesStore = function(flashcardName) {\n  return \"Flashcards_\" + flashcardName;\n};\n\nself._getP = function() {\n  return util.promisify(self.onestore.get.bind(self.onestore));\n};\nself._listP = function() {\n  return util.promisify(self.onestore.list.bind(self.onestore));\n};\nself._createP = function() {\n  return util.promisify(self.onestore.create.bind(self.onestore));\n};\nself._updateP = function() {\n  return util.promisify(self.onestore.update.bind(self.onestore));\n};\nself._removeP = function() {\n  return util.promisify(self.onestore.remove.bind(self.onestore));\n};\n\nself._catchHttpError = function(e) {\n  if (e.status == 429) throw \"onestore.io API limit exceeded!\";\n  return e;\n};\n\nself._validateNames = function(values) {\n  for (var i in values) {\n    self._validateValue(\n      values[i],\n      false,\n      \"Validating names in \" + JSON.stringify(values) + \". \"\n    );\n  }\n};\nself._validateKeys = function(obj) {\n  for (var k in obj) {\n    self._validateValue(\n      obj[k],\n      k == \"from\" || k == \"to\",\n      \"Validating key \" + k + \" in \" + JSON.stringify(obj) + \". \"\n    );\n  }\n};\nself._validateValue = function(value, onlyCheckNotEmpty, desc) {\n  var err;\n  if (!desc) desc = \"\";\n  if (!value || value === \"\") {\n    err = desc + \"Disallowed undefined value\";\n  } else if (!onlyCheckNotEmpty && !/^[a-zA-Z0-9\\-_ ]+$/.test(value)) {\n    err = desc + \"Invalid value [\" + value + \"]\";\n  }\n  if (err) {\n    console.error(err);\n    throw err;\n  }\n};\n\nexport default self;\n","import { useState, useEffect } from \"react\";\n\nconst self = {\n  // dataKey -> data object\n  data: {},\n  // dataKey -> react setter callbacks\n  reactSetterCallbacks: {},\n  componentIdCounter: 0\n};\n\nself.nextComponentId = () => self.componentIdCounter++;\n\nself.get = dataKey => {\n  if (!(dataKey in self.data)) {\n    console.log(\"WARNING: [\" + dataKey + \"] has no default value!\");\n  }\n  //console.log(\"SimpleReactStore.get\", dataKey, self.data[dataKey]);\n  return self.data[dataKey];\n};\n\n// dataKey -> setter\nself.set = (dataKey, value) => {\n  console.log(\"SET \" + dataKey + \"=\" + value);\n  //console.log(\"SimpleReactStore.set\", dataKey, value);\n  self.data[dataKey] = value;\n\n  if (dataKey in self.reactSetterCallbacks) {\n    if (dataKey === \"authenticated\")\n      console.log(\"Calling react setter callbacks \" + dataKey + \"=\" + value);\n    const callbacks = self.reactSetterCallbacks[dataKey];\n    for (var callback of callbacks) callback(value);\n  } else {\n    console.error(\"not in react callback: \" + dataKey);\n  }\n};\n\n// dirty hack to avoid this:\n// React Hook \"useState\" cannot be called inside a callback. React Hooks must be called in a React function component or a custom React Hook function  react-hooks/rules-of-hooks\nconst getReactSetterCallback = dataKey => () => {\n  // default to current value\n  // trash the react value\n  const [_, _setData] = useState(() => self.get(dataKey));\n  return _setData;\n};\n\n// dirty hack to avoid this:\n// React Hook \"useState\" cannot be called inside a callback. React Hooks must be called in a React function component or a custom React Hook function  react-hooks/rules-of-hooks\nself.removeCallbackOnUnmount = (dataKey, reactSetterCallback) => () => {\n  // on componentWillUnmount, remove callback\n  useEffect(() => {\n    return () => self.removeReactSetterCallback(dataKey, reactSetterCallback);\n  }, []);\n};\n\nself.removeReactSetterCallback = (dataKey, reactSetterCallback) => {\n  console.log(\"removeReactSetterCallback \" + dataKey);\n  const index = self.reactSetterCallbacks[dataKey].indexOf(reactSetterCallback);\n  if (index > -1) {\n    self.reactSetterCallbacks[dataKey].splice(index, 1);\n  }\n};\n\nself.useState = function() {\n  for (var dataKey of arguments) {\n    if (!(dataKey in self.reactSetterCallbacks)) {\n      self.reactSetterCallbacks[dataKey] = [];\n    }\n\n    // save the react state setter\n    console.log(\"Calling react useState\", dataKey);\n    const reactSetterCallback = getReactSetterCallback(dataKey)();\n    self.reactSetterCallbacks[dataKey].push(reactSetterCallback);\n\n    self.removeCallbackOnUnmount(dataKey, reactSetterCallback)();\n  }\n};\n\nself.update = (dataKey, createNewObjectFn) => {\n  self.set(dataKey, createNewObjectFn(self.get(dataKey)));\n};\n\nexport default self;\n","import ReactGlobalState from \"./ReactGlobalState\";\n\nconst self = {\n  FLASHCARDS: \"flashcards\",\n  DRAGGED_FLASHCARD_ID: \"dragged-flashcard-id\",\n  APP_CONFIG: \"app-config\",\n  IS_READY: \"ready\",\n  ERROR: \"error\",\n  FROMTO: \"fromto\",\n  FLASHCARD_ENTRIES: \"flashcard-entries\",\n  FLASHCARDS_ARRAY: \"flashcards-array\",\n  AUTHENTICATED: \"authenticated\",\n  AUTHENTICATING: \"authenticating\",\n\n  ...ReactGlobalState\n};\n\n// default values\nself.set(self.FLASHCARDS, []);\nself.set(self.DRAGGED_FLASHCARD_ID, null);\nself.set(self.APP_CONFIG, {});\nself.set(self.IS_READY, false);\nself.set(self.ERROR, null);\nself.set(self.FLASHCARD_ENTRIES, {});\nself.set(self.FLASHCARDS_ARRAY, null);\nself.set(self.AUTHENTICATED, false);\nself.set(self.AUTHENTICATING, false);\n\nexport default self;\n","import flash_store from \"./FlashcardStoreDAO\";\nimport store from \"./FlashcardStore\";\n\nconst self = {};\n\nself.getFlashcardEntries = () => store.get(store.FLASHCARD_ENTRIES);\nself.getFlashcardsArray = () => store.get(store.FLASHCARDS_ARRAY);\n\nself.loadFlashcardEntries = function(flashcardName) {\n  if (flashcardName in self.getFlashcardEntries()) {\n    return Promise.resolve(self.getFlashcardEntries()[flashcardName]);\n  }\n  return flash_store.loadAllFlashcardEntries(flashcardName).then(r => {\n    const entries = r.data;\n    store.update(store.FLASHCARD_ENTRIES, flashcardEntries => {\n      const newFlashcardEntries = {\n        ...flashcardEntries\n      };\n      newFlashcardEntries[flashcardName] = entries;\n      return newFlashcardEntries;\n    });\n    // self.getFlashcardEntries()[flashcardName] = entries;\n    console.log(\"loaded entries\", entries);\n    return entries;\n  });\n};\n\nself.getCachedFlashcardsArray = function() {\n  return new Promise(function(resolve, reject) {\n    if (self.getFlashcardsArray()) return resolve(self.getFlashcardsArray());\n    flash_store\n      .listFlashcards()\n      .then(r => {\n        var arr = r.data;\n        const flashcardsArray = arr.sort(function(a, b) {\n          return a.userdata.name - b.userdata.name;\n        });\n\n        store.set(store.FLASHCARDS_ARRAY, flashcardsArray);\n\n        console.log(\"loaded flashcards array\", flashcardsArray);\n        resolve(flashcardsArray);\n      })\n      .catch(reject);\n  });\n};\n\nself.findFlashCardByName = function(name) {\n  return new Promise(function(resolve, reject) {\n    return self\n      .getCachedFlashcardsArray()\n      .then(flashcards => {\n        for (var i = 0; i < flashcards.length; i++) {\n          if (flashcards[i].userdata.name === name)\n            return resolve(flashcards[i]);\n        }\n        resolve();\n      })\n      .catch(reject);\n  });\n};\n\nself.addFlashcard = function(flashcard) {\n  self.getFlashcardEntries()[flashcard.userdata.name] = [];\n  store.update(store.FLASHCARDS_ARRAY, arr => [...arr, flashcard]);\n  //self.flashcardsArray.push(flashcard);\n};\n\nself.removeFlashcard = function(flashcard) {\n  store.update(store.FLASHCARD_ENTRIES, flashcardEntries => {\n    const newFlashcardEntries = {\n      ...flashcardEntries\n    };\n    delete newFlashcardEntries[flashcard.userdata.name];\n    return newFlashcardEntries;\n  });\n  // delete self.getFlashcardEntries()[flashcard.userdata.name];\n  store.update(store.FLASHCARDS_ARRAY, arr =>\n    arr.filter(function(f, idx) {\n      return f.id !== flashcard.id;\n    })\n  );\n  //self.flashcardsArray = self.flashcardsArray.filter(function(f, idx) {\n  //  return f.id !== flashcard.id;\n  //});\n};\n\nself.deleteAll = function() {\n  store.set(store.FLASHCARD_ENTRIES, {});\n  //self.flashcardEntries = {};\n  store.set(store.FLASHCARDS_ARRAY, []);\n  //self.flashcardsArray = [];\n};\n\nexport default self;\n","import FlashcardService from \"./services/FlashcardService\";\nimport store from \"./services/FlashcardStore\";\n\nconst AllLanguages = require(\"./languages.json\");\n\nconst self = {\n  AllLanguages: AllLanguages\n};\n\nself.from = function() {\n  return self._getById(store.get(store.APP_CONFIG).from).name;\n};\nself.to = function() {\n  return self._getById(store.get(store.APP_CONFIG).to).name;\n};\n\nself._getById = function(id) {\n  if (!(id in AllLanguages))\n    throw new Error(\"Couldn't find language with ID=\" + id);\n  return AllLanguages[id];\n};\n\nexport default self;\n","import React from \"react\";\nimport Form from \"react-bootstrap/Form\";\n\nimport LanguagesService from \"./LanguagesService\";\n\nconst AllLanguages = LanguagesService.AllLanguages;\nconst AllLanguagesKeys = Object.keys(LanguagesService.AllLanguages);\n\nfunction SelectLanguage(props) {\n  function handleChange(e) {\n    props.setValue(e.target.value);\n  }\n\n  return (\n    <Form.Group>\n      <Form.Control as=\"select\" value={props.value} onChange={handleChange}>\n        <option value=\"\">-- {props.title} --</option>\n        {AllLanguagesKeys.map(k => {\n          return (\n            <option key={k} value={k}>\n              {AllLanguages[k].name}\n            </option>\n          );\n        })}\n      </Form.Control>\n    </Form.Group>\n  );\n}\n\nexport default SelectLanguage;\n","import store from \"./services/FlashcardStore\";\n\nconst self = {};\n\nself.shuffleArray = function(array) {\n  var currentIndex = array.length,\n    temporaryValue,\n    randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n};\n\nself.goto = function(props, path) {\n  // console.trace(\"GOTO \" + path);\n  if (props.history) {\n    props.history.push(path);\n  }\n};\nself.gotoFn = function(props, path) {\n  return function() {\n    self.goto(props, path);\n  };\n};\n\nself.handleError = function(e) {\n  console.error(e);\n  store.set(store.IS_READY, true);\n  store.set(store.ERROR, e);\n};\n\nexport default self;\n","import React, { useState } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\n\nimport flash_store from \"./services/FlashcardStoreDAO\";\nimport _OneStore from \"onestore-client-node\";\nimport SelectLanguage from \"./SelectLanguage\";\nimport Utils from \"./Utils\";\nimport store from \"./services/FlashcardStore\";\n\nconst saveButtonStyles = {\n  float: \"right\"\n};\n\nconst formStyles = {\n  marginTop: \"1em\"\n};\n\nfunction Configure(props) {\n  console.log(\"--Configure--\");\n\n  store.useState(store.APP_CONFIG);\n\n  const c = store.get(store.APP_CONFIG);\n  const [fromLanguage, setFromLanguage] = useState(c ? c.from : \"\");\n  const [toLanguage, setToLanguage] = useState(c ? c.to : \"\");\n\n  function saveConfiguration(e) {\n    e.preventDefault();\n    if (!fromLanguage || fromLanguage === \"\")\n      return alert(\"Please select the language you wish to learn!\");\n    if (!toLanguage || toLanguage === \"\")\n      return alert(\n        \"Please select the language you will use in the translations!\"\n      );\n\n    const configuration = { from: fromLanguage, to: toLanguage };\n    flash_store\n      .saveConfiguration(configuration)\n      .then(id => {\n        configuration.id = id;\n        store.set(store.APP_CONFIG, configuration);\n        setFromLanguage(\"\");\n        setToLanguage(\"\");\n        Utils.goto(props, \"/flashcards\");\n      })\n      .catch(Utils.handleError);\n  }\n\n  return (\n    <div className=\"Configure\">\n      <h3>Settings</h3>\n\n      <Form onSubmit={saveConfiguration} style={formStyles}>\n        <Form.Label>Target Language:</Form.Label>\n        <SelectLanguage\n          title=\"New language\"\n          value={fromLanguage}\n          setValue={setFromLanguage}\n        />\n        <Form.Label>Translation Language:</Form.Label>\n        <SelectLanguage\n          title=\"Language use for translation\"\n          value={toLanguage}\n          setValue={setToLanguage}\n        />\n        <Button variant=\"primary\" type=\"submit\" style={saveButtonStyles}>\n          Save\n        </Button>\n      </Form>\n    </div>\n  );\n}\n\nexport default Configure;\n","import React, { useRef } from \"react\";\nimport { withRouter } from \"react-router\";\nimport Utils from \"./Utils\";\nimport { useDrag, useDrop } from \"react-dnd\";\n\nimport { faPlay } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport \"./ListFlashcards.scss\";\n\nimport store from \"./services/FlashcardStore\";\n\nconst FLASHCARD_TYPE = \"FLASHCARD\";\n\nfunction FlashcardListItem(props) {\n  console.log(\"--FlashcardListItem--\");\n  const ref = useRef(null);\n\n  //store.useState(store.DRAGGED_FLASHCARD_ID);\n\n  const getFlashcardEntriesCount = () => {\n    const flashcardEntries = store.get(store.FLASHCARD_ENTRIES);\n    console.log(flashcardEntries);\n    if (props.flashcardId in flashcardEntries) {\n      return flashcardEntries[props.flashcardId].length;\n    }\n    return \"\";\n  };\n\n  const [, drop] = useDrop({\n    accept: FLASHCARD_TYPE,\n\n    drop(item, monitor) {\n      props.onDropFlashcard();\n      store.set(store.DRAGGED_FLASHCARD_ID, null);\n    },\n\n    hover(item, monitor) {\n      if (!ref.current) {\n        return;\n      }\n      const dragIndex = item.index;\n      const hoverIndex = props.index;\n      // Don't replace items with themselves\n      if (dragIndex === hoverIndex) {\n        return;\n      }\n      // Determine rectangle on screen\n      const hoverBoundingRect = ref.current.getBoundingClientRect();\n      // Get vertical middle\n      const hoverMiddleY =\n        (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n      // Determine mouse position\n      const clientOffset = monitor.getClientOffset();\n      // Get pixels to the top\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top;\n      // Only perform the move when the mouse has crossed half of the items height\n      // When dragging downwards, only move when the cursor is below 50%\n      // When dragging upwards, only move when the cursor is above 50%\n      // Dragging downwards\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n        return;\n      }\n      // Dragging upwards\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n        return;\n      }\n      // Time to actually perform the action\n      props.moveFlashcard(dragIndex, hoverIndex);\n      // Note: we're mutating the monitor item here!\n      // Generally it's better to avoid mutations,\n      // but it's good here for the sake of performance\n      // to avoid expensive index searches.\n      item.index = hoverIndex;\n    }\n  });\n\n  let [{ isDragging }, drag] = useDrag({\n    item: { type: FLASHCARD_TYPE, id: props.flashcardId, index: props.index },\n    collect: monitor => ({\n      isDragging: monitor.isDragging()\n    })\n  });\n  //setDragging(isDragging);\n\n  drag(drop(ref));\n\n  let onMouseDownTimeout = null;\n\n  const onMouseDown = id => () => {\n    onMouseDownTimeout = setTimeout(() => {\n      console.log(\"onMouseDown -> setDraggedId to \" + id);\n      store.set(store.DRAGGED_FLASHCARD_ID, id);\n    }, 100);\n  };\n  const onMouseUp = id => () => {\n    console.log(\"onMouseUp -> setDraggedId to null\");\n    clearInterval(onMouseDownTimeout);\n    store.set(store.DRAGGED_FLASHCARD_ID, null);\n  };\n\n  const classNames = [];\n  if (store.get(store.DRAGGED_FLASHCARD_ID) == props.flashcardId) {\n    classNames.push(\"flashcardDragged\");\n  }\n  if (store.get(store.DRAGGED_FLASHCARD_ID) === null) {\n    classNames.push(\"noOngoingDrag\");\n  }\n\n  return (\n    <li\n      ref={ref}\n      key={props.flashcardId}\n      onClick={Utils.gotoFn(props, `/flashcards/${props.flashcardName}`)}\n      className={classNames}\n      onMouseDown={onMouseDown(props.flashcardId)}\n      onMouseUp={onMouseUp(props.flashcardId)}\n      onTouchStart={onMouseDown(props.flashcardId)}\n      onTouchEnd={onMouseUp(props.flashcardId)}\n    >\n      <span className=\"fcItemName\">\n        {props.flashcardName} {getFlashcardEntriesCount()}\n      </span>\n      <span className=\"fcItemIcon\">\n        <FontAwesomeIcon icon={faPlay} size=\"sm\" className=\"faIcon\" />\n      </span>\n    </li>\n  );\n}\n\nexport default withRouter(FlashcardListItem);\n","import React from \"react\";\nimport RingLoader from \"react-spinners/RingLoader\";\n\nexport default function Spinner(props) {\n  const spinnerCss = {\n    margin: \"3em auto\",\n    display: \"table\"\n  };\n\n  return (\n    <RingLoader\n      size={150}\n      color={\"#ec82ae\"}\n      loading={props.loading}\n      css={spinnerCss}\n    />\n  );\n}\n","import React, { useState, useCallback, useEffect } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport FormControl from \"react-bootstrap/FormControl\";\nimport Form from \"react-bootstrap/Form\";\nimport { withRouter } from \"react-router\";\nimport FlashcardService from \"./services/FlashcardService\";\nimport FlashcardListItem from \"./FlashcardListItem\";\nimport \"./ListFlashcards.scss\";\nimport { DndProvider } from \"react-dnd\";\nimport Utils from \"./Utils\";\n\nimport HTML5Backend from \"react-dnd-html5-backend\";\nimport TouchBackend from \"react-dnd-touch-backend\";\nimport MultiBackend, { TouchTransition } from \"react-dnd-multi-backend\";\n\nimport update from \"immutability-helper\";\nimport flash_store from \"./services/FlashcardStoreDAO\";\n\nimport store from \"./services/FlashcardStore\";\nimport Spinner from \"./common/Spinner\";\n\nfunction ListFlashcards(props) {\n  console.log(\"--ListFlashcards--\");\n\n  store.useState(store.FLASHCARDS, store.DRAGGED_FLASHCARD_ID);\n\n  const [loading, setLoading] = useState(true);\n  const [newFlashcardName, setNewFlashcardName] = useState(\"\");\n  const [showDeleteAllConfirm, setShowDeleteAllConfirm] = useState(false);\n\n  let orderConfig;\n\n  useEffect(() => {\n    loadFlashcards();\n  }, []); //only once\n\n  function loadFlashcards() {\n    FlashcardService.getCachedFlashcardsArray()\n      .then(arr => {\n        console.log(\"cached FC => \", arr);\n        orderFlashcard([...arr]); // copy\n      })\n      .catch(Utils.handleError);\n  }\n\n  function orderFlashcard(_flashcards) {\n    console.log(\"fcs\", _flashcards);\n    flash_store\n      .getFlashcardsOrdering()\n      .then(_orderConfig => {\n        orderConfig = _orderConfig ? _orderConfig.userdata : [];\n        console.log(\"loaded order\", orderConfig);\n\n        if (orderConfig == null) {\n          orderConfig = [];\n        }\n\n        const getOrder = fid => orderConfig.findIndex(x => x.id === fid);\n        _flashcards = _flashcards.sort((a, b) => {\n          return getOrder(a.id) - getOrder(b.id);\n        });\n\n        store.set(store.FLASHCARDS, _flashcards);\n        setLoading(false);\n\n        if (orderingChanged()) {\n          saveOrdering();\n        }\n      })\n      .catch(Utils.handleError);\n  }\n\n  function orderingChanged() {\n    for (var i in store.get(store.FLASHCARDS)) {\n      if (\n        !orderConfig[i] ||\n        orderConfig[i].id !== store.get(store.FLASHCARDS)[i].id\n      ) {\n        return true;\n      }\n    }\n  }\n\n  function saveOrdering() {\n    orderConfig = store.get(store.FLASHCARDS).map(f => {\n      return { id: f.id, name: f.userdata.name };\n    });\n\n    console.log(\"SAve order\", orderConfig);\n    flash_store\n      .saveFlashcardsOrdering(orderConfig)\n      .then()\n      .catch(Utils.handleError);\n  }\n\n  function addFlashcard(e) {\n    e.preventDefault();\n\n    FlashcardService.findFlashCardByName(newFlashcardName)\n      .then(f => {\n        if (f) {\n          alert('Flashcard \"' + newFlashcardName + '\" already exist');\n        } else {\n          const userdata = { name: newFlashcardName };\n          flash_store\n            .addFlashcard(userdata)\n            .then(id => {\n              var flashcard = { id: id, userdata: userdata };\n              FlashcardService.addFlashcard(flashcard);\n              store.set(store.FLASHCARDS, [\n                flashcard,\n                ...store.get(store.FLASHCARDS)\n              ]);\n              setNewFlashcardName(\"\");\n              saveOrdering();\n              Utils.goto(props, \"/flashcards/\" + newFlashcardName);\n            })\n            .catch(Utils.handleError);\n        }\n      })\n      .catch(Utils.handleError);\n\n    return false;\n  }\n\n  function handleChange(e) {\n    setNewFlashcardName(e.target.value);\n  }\n\n  function confirmDeleteAll() {\n    console.log(\"show\");\n    setShowDeleteAllConfirm(true);\n  }\n  function closeDeleteAllConfirm() {\n    console.log(\"hide\");\n    setShowDeleteAllConfirm(false);\n  }\n\n  function deleteAll() {\n    console.log(\"DELETE ALL!\");\n    closeDeleteAllConfirm();\n    flash_store\n      .deleteAll()\n      .then(() => {\n        FlashcardService.deleteAll();\n        store.set(store.FLASHCARDS, []);\n        setNewFlashcardName(\"\");\n        saveOrdering();\n      })\n      .catch(Utils.handleError);\n  }\n\n  const moveFlashcard = useCallback(\n    (dragIndex, hoverIndex) => {\n      const dragFlashcard = store.get(store.FLASHCARDS)[dragIndex];\n      store.set(\n        store.FLASHCARDS,\n        update(store.get(store.FLASHCARDS), {\n          $splice: [[dragIndex, 1], [hoverIndex, 0, dragFlashcard]]\n        })\n      );\n    },\n    [store.get(store.FLASHCARDS)]\n  );\n\n  const HTML5toTouch = {\n    backends: [\n      {\n        backend: HTML5Backend\n      },\n      {\n        backend: TouchBackend,\n        preview: true,\n        transition: TouchTransition,\n        options: {\n          delayTouchStart: 100\n        }\n      }\n    ]\n  };\n\n  return (\n    <React.Fragment>\n      <h3>Flashcards</h3>\n\n      <Spinner loading={loading} />\n\n      <div className=\"fcRow ListFlashcards\">\n        {\" \"}\n        <DndProvider backend={MultiBackend} options={HTML5toTouch}>\n          <ul className=\"flashcards\">\n            {store.get(store.FLASHCARDS).map((f, index) => {\n              return (\n                <FlashcardListItem\n                  key={f.id}\n                  index={index}\n                  flashcardId={f.id}\n                  flashcardName={f.userdata.name}\n                  moveFlashcard={moveFlashcard}\n                  onDropFlashcard={saveOrdering}\n                />\n              );\n            })}\n          </ul>\n        </DndProvider>\n        <div className=\"fcRow\">\n          <form onSubmit={addFlashcard}>\n            <Form.Label>New Flashcard</Form.Label>\n            <FormControl\n              value={newFlashcardName}\n              onChange={handleChange}\n              placeholder=\"Flashcard name\"\n              aria-label=\"Flashcard name\"\n              aria-describedby=\"basic-addon2\"\n            />\n            <Button type=\"submit\" style={{ float: \"right\" }}>\n              Create\n            </Button>\n          </form>\n        </div>\n      </div>\n\n      <div className=\"deleteAllRow\">\n        {!showDeleteAllConfirm && (\n          <Button type=\"button\" variant=\"danger\" onClick={confirmDeleteAll}>\n            Delete All!\n          </Button>\n        )}\n        {showDeleteAllConfirm && (\n          <>\n            <Button\n              type=\"button\"\n              variant=\"secondary\"\n              onClick={closeDeleteAllConfirm}\n            >\n              Cancel\n            </Button>\n            <Button type=\"button\" variant=\"danger\" onClick={deleteAll}>\n              Yes, Delete All!\n            </Button>\n          </>\n        )}\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default withRouter(ListFlashcards);\n","import React from \"react\";\nimport { withRouter } from \"react-router\";\nimport Utils from \"./Utils\";\n\nimport { faPlay } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nfunction PageTitle(props) {\n  function back() {\n    Utils.goto(props, props.backLink);\n  }\n\n  return (\n    <h3>\n      {props.backLink ? (\n        <div onClick={back} className=\"l-icon-action\">\n          <FontAwesomeIcon\n            icon={faPlay}\n            rotation={180}\n            style={{ marginRight: \".5em\" }}\n          />\n          {props.title}\n        </div>\n      ) : (\n        <>{props.title}</>\n      )}\n    </h3>\n  );\n}\n\nexport default withRouter(PageTitle);\n","import React, { useState, useEffect } from \"react\";\nimport flash_store from \"./services/FlashcardStoreDAO\";\nimport _OneStore from \"onestore-client-node\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport { withRouter } from \"react-router\";\nimport FlashcardService from \"./services/FlashcardService\";\nimport PageTitle from \"./PageTitle\";\nimport Utils from \"./Utils\";\nimport LanguagesService from \"./LanguagesService\";\nimport Spinner from \"./common/Spinner\";\n\nimport { Table, Thead, Tbody, Tr, Th, Td } from \"react-super-responsive-table\";\nimport \"react-super-responsive-table/dist/SuperResponsiveTableStyle.css\";\n\nimport {\n  faPlay,\n  faTrashAlt,\n  faArrowRight\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport \"./Flashcard.scss\";\nimport store from \"./services/FlashcardStore\";\n\nfunction Flashcard(props) {\n  console.log(\"--Flashcard--\");\n  const flashcardName = props.match.params.flashcard_name;\n\n  const [loading, setLoading] = useState(true);\n  const [flashcardEntries, setflashcardEntries] = useState([]);\n  const [newEntryFrom, setNewEntryFrom] = useState(\"\");\n  const [newEntryTo, setNewEntryTo] = useState(\"\");\n  const [newEntryPronounciation, setNewEntryPronounciation] = useState(\"\");\n  const [showDeleteAllConfirm, setShowDeleteAllConfirm] = useState(false);\n\n  useEffect(() => {\n    FlashcardService.loadFlashcardEntries(flashcardName)\n      .then(entries => {\n        console.log(entries);\n        if (entries) setflashcardEntries([...entries]);\n        else setflashcardEntries([]);\n        setLoading(false);\n      })\n      .catch(Utils.handleError);\n  }, []); // only once\n\n  function addFlashcardEntry(e) {\n    e.preventDefault();\n\n    const userdata = {\n      from: newEntryFrom,\n      to: newEntryTo,\n      p: newEntryPronounciation\n    };\n    flash_store\n      .addFlashcardEntry(flashcardName, userdata)\n      .then(id => {\n        var entry = { id: id, userdata: userdata };\n        setflashcardEntries([...flashcardEntries, entry]);\n        store.update(store.FLASHCARD_ENTRIES, entries => {\n          const newEntries = { ...entries };\n          if (!flashcardName in newEntries) {\n            newEntries[flashcardName] = [];\n          }\n          newEntries[flashcardName].push(entry);\n          return newEntries;\n        });\n        //FlashcardService.flashcardEntries[flashcardName].push(entry);\n        setNewEntryFrom(\"\");\n        setNewEntryTo(\"\");\n        setNewEntryPronounciation(\"\");\n      })\n      .catch(Utils.handleError);\n    return false;\n  }\n\n  function handleFromChange(e) {\n    setNewEntryFrom(e.target.value);\n  }\n  function handleToChange(e) {\n    setNewEntryTo(e.target.value);\n  }\n  function handlePronounciationChange(e) {\n    setNewEntryPronounciation(e.target.value);\n  }\n\n  function startQuizz(fromto) {\n    return () => {\n      if (flashcardEntries.length == 0) {\n        return alert(\"You must define a few entries before starting!\");\n      }\n      store.set(store.fromto, fromto);\n      Utils.goto(props, \"/flashcards/\" + flashcardName + \"/play\");\n    };\n  }\n\n  function deleteEntry(id) {\n    return () => {\n      flash_store\n        .deleteFlashcardEntry(flashcardName, id)\n        .then(r => {\n          var newEntries = flashcardEntries.filter(function(entry) {\n            return entry.id !== id;\n          });\n          store.set(store.FLASHCARD_ENTRIES, flashcardEntries => {\n            const newFlashcardEntries = { ...flashcardEntries };\n            newFlashcardEntries[flashcardName] = newEntries;\n            return newFlashcardEntries;\n          });\n          setflashcardEntries(newEntries);\n        })\n        .catch(Utils.handleError);\n    };\n  }\n\n  function confirmDeleteAll() {\n    console.log(\"show\");\n    setShowDeleteAllConfirm(true);\n  }\n  function closeDeleteAllConfirm() {\n    console.log(\"hide\");\n    setShowDeleteAllConfirm(false);\n  }\n\n  function deleteAll() {\n    console.log(\"DELETE ALL!\");\n    closeDeleteAllConfirm();\n\n    FlashcardService.findFlashCardByName(flashcardName)\n      .then(f => {\n        if (f) {\n          flash_store\n            .deleteFlashcard(f)\n            .then(r => {\n              FlashcardService.removeFlashcard(f);\n              Utils.goto(props, \"/flashcards\");\n            })\n            .catch(Utils.handleError);\n        } else {\n          alert(\"Flashcard already deleted? \" + flashcardName);\n        }\n      })\n      .catch(Utils.handleError);\n  }\n\n  return (\n    <React.Fragment>\n      <PageTitle title={flashcardName} backLink={\"/flashcards\"} />\n\n      <div className=\"fcRow row1\">\n        <Button\n          className=\"quizz_button quizz_button_left\"\n          onClick={startQuizz(false)}\n        >\n          <FontAwesomeIcon icon={faPlay} />\n          <br />\n          {LanguagesService.to()}{\" \"}\n          <FontAwesomeIcon icon={faArrowRight} size=\"sm\" />{\" \"}\n          {LanguagesService.from()}\n        </Button>\n\n        <Button\n          className=\"quizz_button quizz_button_right\"\n          onClick={startQuizz(true)}\n        >\n          <FontAwesomeIcon icon={faPlay} />\n          <br />\n          {LanguagesService.from()}{\" \"}\n          <FontAwesomeIcon icon={faArrowRight} size=\"sm\" />{\" \"}\n          {LanguagesService.to()}\n        </Button>\n      </div>\n\n      <div className=\"fcRow row2\">\n        <Form onSubmit={addFlashcardEntry} className=\"add-entry-form\">\n          <Form.Label>New Entry</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder={LanguagesService.from()}\n            value={newEntryFrom}\n            onChange={handleFromChange}\n          />\n          <Form.Control\n            type=\"text\"\n            placeholder={LanguagesService.to()}\n            value={newEntryTo}\n            onChange={handleToChange}\n          />\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Pronounciation\"\n            value={newEntryPronounciation}\n            onChange={handlePronounciationChange}\n          />\n          <Button type=\"submit\">Add</Button>\n        </Form>\n      </div>\n\n      <div className=\"fcRow row3\">\n        <label>Entries</label>\n\n        <Spinner loading={loading} />\n\n        <div className=\"ListflashcardEntries\">\n          {flashcardEntries.length == 0 ? (\n            <>No entries yet</>\n          ) : (\n            <Table>\n              <Thead>\n                <Tr>\n                  <Th>{LanguagesService.from()}</Th>\n                  <Th>{LanguagesService.to()}</Th>\n                  <Th>Pronouciation</Th>\n                  <Th></Th>\n                </Tr>\n              </Thead>\n              <Tbody>\n                {flashcardEntries.map(e => {\n                  return (\n                    <Tr key={e.id}>\n                      <Td>{e.userdata.from}</Td>\n                      <Td>{e.userdata.to}</Td>\n                      <Td>{e.userdata.p}</Td>\n                      <Td className=\"deleteIcon\">\n                        <FontAwesomeIcon\n                          icon={faTrashAlt}\n                          className=\"l-icon-action\"\n                          onClick={deleteEntry(e.id)}\n                        />\n                      </Td>\n                    </Tr>\n                  );\n                })}\n              </Tbody>\n            </Table>\n          )}\n        </div>\n      </div>\n\n      <div className=\"deleteAllRow\">\n        {!showDeleteAllConfirm && (\n          <Button type=\"button\" variant=\"danger\" onClick={confirmDeleteAll}>\n            Delete Flashcard!\n          </Button>\n        )}\n        {showDeleteAllConfirm && (\n          <>\n            <Button\n              type=\"button\"\n              variant=\"secondary\"\n              onClick={closeDeleteAllConfirm}\n            >\n              Cancel\n            </Button>\n            <Button type=\"button\" variant=\"danger\" onClick={deleteAll}>\n              Yes, Delete Flashcard!\n            </Button>\n          </>\n        )}\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default withRouter(Flashcard);\n","import React from \"react\";\nimport flash_store from \"./services/FlashcardStoreDAO\";\nimport _OneStore from \"onestore-client-node\";\nimport Button from \"react-bootstrap/Button\";\nimport store from \"./services/FlashcardStore\";\nimport Spinner from \"./common/Spinner\";\n\nfunction OneStoreLogin(props) {\n  store.useState(store.AUTHENTICATED, store.AUTHENTICATING, store.READY);\n\n  function login() {\n    store.set(store.AUTHENTICATING, true);\n    flash_store.onestore.startAuthenticationProcedure();\n  }\n\n  if (store.get(store.AUTHENTICATING) && !store.get(store.READY)) {\n    return <Spinner loading=\"true\" />;\n  } else {\n    return (\n      <div style={{ marginTop: \"1em\" }}>\n        <p>\n          This app uses\n          <img\n            class=\"onestore-icon\"\n            src=\"https://www.onestore.io/static/favicon-32x32.png\"\n          />\n          <a class=\"onestore-link\" href=\"https://www.onestore.io\">\n            onestore.io\n          </a>{\" \"}\n          to store data.\n        </p>\n        <p class=\"choices\">If you already have an account:</p>\n        <ul>\n          <li>\n            <a onClick={login}>\n              <Button size=\"sm\">Login</Button>\n            </a>\n            , and then\n          </li>\n          <li>select the namespace that contains your flashcards</li>\n        </ul>\n        <p class=\"choices\">If you don't have an account:</p>\n        <ul>\n          <li>\n            <a onClick={login}>\n              <Button size=\"sm\">Create an account</Button>\n            </a>\n            , and then\n          </li>\n          <li>\n            create a new namespace for your flashcards, for example\n            \"Farsi-English\"\n          </li>\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default OneStoreLogin;\n","import React from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport flash_store from \"./services/FlashcardStoreDAO\";\nimport { faSignOutAlt, faSlidersH } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport store from \"./services/FlashcardStore\";\nimport Utils from \"./Utils\";\n\nconst logout = props => () => {\n  flash_store.onestore.deauthenticate();\n  store.set(store.AUTHENTICATED, false);\n  Utils.goto(props, \"/\");\n};\n\nconst styles = {\n  padding: \"15px 10px 0 0\",\n  position: \"absolute\",\n  right: 0\n};\n\nconst linkStyle = {\n  marginLeft: \"1em\",\n  color: \"#333\"\n};\n\nfunction Header(props) {\n  console.log(\"--Header--\");\n  store.useState(store.APP_CONFIG);\n\n  return (\n    <div style={styles}>\n      {props.isAuthenticated ? (\n        <>\n          <Link to=\"/configure\" style={linkStyle}>\n            <FontAwesomeIcon icon={faSlidersH} className=\"l-icon-action\" />\n          </Link>\n          <a onClick={logout(props)} className=\"headerLink\" style={linkStyle}>\n            <FontAwesomeIcon\n              icon={faSignOutAlt}\n              className=\"l-icon-action\"\n              size=\"1x\"\n            />\n          </a>\n        </>\n      ) : (\n        <></>\n      )}\n    </div>\n  );\n}\n\nexport default withRouter(Header);\n","import React from \"react\";\nimport PageTitle from \"./PageTitle\";\n\nexport default function Error(props) {\n  console.log(\"Error()\");\n\n  function errorMessage() {\n    const e = props.error;\n    if (!e) return \"(No error message)\";\n    if (e instanceof String) return e;\n    return JSON.stringify(e);\n  }\n\n  return (\n    <>\n      <div style={{ margin: \"5em auto\", color: \"#ca0e0e\" }}>\n        Oh sh*t, something bad happened :o(\n        <br />\n        {errorMessage()}\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\n\nconst styles = {\n  marginTop: \"2em\",\n  textAlign: \"center\"\n};\n\nexport default function(props) {\n  console.log(\"404\");\n  return <div style={styles}>404</div>;\n}\n","import React, { useState, useRef, useEffect } from \"react\";\nimport { withRouter } from \"react-router\";\nimport FlashcardService from \"./services/FlashcardService\";\nimport PageTitle from \"./PageTitle\";\nimport Utils from \"./Utils\";\n\nimport \"./PlayFashcard.scss\";\nimport store from \"./services/FlashcardStore\";\n\nvar flashcardEntries;\nvar index = 0;\n\nfunction PlayFlashcard(props) {\n  const flashcardName = props.match.params.flashcard_name;\n\n  const [question, setQuestion] = useState(\"\");\n  const [answer, setAnswer] = useState(\"\");\n  const [pronouciation, setPronouciation] = useState(\"\");\n  const [showAnswer, setShowAnswer] = useState(false);\n\n  useEffect(() => {\n    FlashcardService.loadFlashcardEntries(flashcardName)\n      .then(loadQuizz)\n      .catch(Utils.handleError);\n  }, []); // only once\n\n  function loadQuizz(entries) {\n    console.log(\"Loaded \" + entries.length + \" entries.\");\n    flashcardEntries = Utils.shuffleArray(entries);\n    renderCurrentEntry();\n  }\n\n  function next() {\n    if (showAnswer) index++;\n    setShowAnswer(!showAnswer);\n    renderCurrentEntry();\n  }\n\n  function renderCurrentEntry() {\n    console.log(\"rendering current entry \", index, showAnswer);\n    const entry = flashcardEntries[index % flashcardEntries.length];\n    const fromto = store.get(store.FROMTO);\n    setQuestion(fromto ? entry.userdata.from : entry.userdata.to);\n    setAnswer(fromto ? entry.userdata.to : entry.userdata.from);\n    setPronouciation(entry.userdata.p);\n  }\n\n  function answerStyle() {\n    return { opacity: showAnswer ? \"1\" : \"0\" };\n  }\n\n  return (\n    <React.Fragment>\n      <PageTitle\n        title={flashcardName}\n        backLink={\"/flashcards/\" + flashcardName}\n      />\n      <div className=\"quizz_container_1\" onClick={next}>\n        <div className=\"quizz_container_2\">\n          <div className=\"quizz_container_3\">\n            <div className=\"question\">{question}</div>\n            <div className=\"clearfix\"></div>\n            <div className=\"answer\" style={answerStyle()}>\n              {answer}\n            </div>\n            <div className=\"clearfix\"></div>\n            <div className=\"pronounciation\" style={answerStyle()}>\n              {pronouciation}\n            </div>\n          </div>\n        </div>\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default withRouter(PlayFlashcard);\n","import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\n\nimport flash_store from \"./services/FlashcardStoreDAO\";\nimport _OneStore from \"onestore-client-node\";\nimport Configure from \"./Configure\";\nimport ListFlashcards from \"./ListFlashcards\";\nimport Flashcard from \"./Flashcard\";\nimport OneStoreLogin from \"./OneStoreLogin\";\nimport Header from \"./Header\";\nimport Error from \"./Error\";\nimport NotFound from \"./NotFound\";\nimport PlayFlashcard from \"./PlayFlashcard\";\nimport store from \"./services/FlashcardStore\";\nimport Utils from \"./Utils\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.scss\";\nimport \"./AppCustom.scss\";\n\nfunction App() {\n  console.log(\"--App--\");\n\n  store.useState(\n    store.APP_CONFIG,\n    store.IS_READY,\n    store.ERROR,\n    store.AUTHENTICATED\n  );\n\n  useEffect(() => {\n    flash_store.load(auth => {\n      store.set(store.AUTHENTICATED, auth);\n      if (auth) {\n        flash_store\n          .getConfiguration()\n          .then(c => {\n            console.log(\"configuration received:\");\n            console.log(c);\n            store.set(store.APP_CONFIG, c ? c.userdata : null);\n            store.set(store.IS_READY, true);\n          })\n          .catch(Utils.handleError);\n      } else {\n        store.set(store.IS_READY, true);\n      }\n      store.set(store.AUTHENTICATING, false);\n    });\n  }, []); // run only once\n\n  function renderMe() {\n    if (store.get(store.ERROR)) return <Error error={store.get(store.ERROR)} />;\n    if (!store.get(store.AUTHENTICATED)) return <OneStoreLogin />;\n    if (!store.get(store.APP_CONFIG)) return <Configure />;\n    return (\n      <>\n        <Switch>\n          <Route exact path=\"/configure\" component={Configure} />\n          <Route exact path=\"/flashcards\" component={ListFlashcards} />\n          <Route\n            exact\n            path=\"/flashcards/:flashcard_name\"\n            component={Flashcard}\n          />\n          <Route\n            exact\n            path=\"/flashcards/:flashcard_name/play\"\n            component={PlayFlashcard}\n          />\n          <Route exact path=\"/\" component={ListFlashcards} />\n          <Route path=\"/\" component={NotFound} />\n        </Switch>\n      </>\n    );\n  }\n\n  return (\n    <div className=\"App\">\n      {store.get(store.IS_READY) ? (\n        <BrowserRouter basename={`${process.env.PUBLIC_URL}`}>\n          <Header isAuthenticated={store.get(store.AUTHENTICATED)} />\n          <div className=\"content-fullpage\">{renderMe()}</div>\n        </BrowserRouter>\n      ) : (\n        <>Loading...</>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}